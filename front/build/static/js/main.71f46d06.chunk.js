(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/check.b6442445.png"},16:function(e,t,a){e.exports=a.p+"static/media/sem.efd28a7c.png"},24:function(e,t,a){e.exports=a.p+"static/media/1.3610ad57.png"},27:function(e,t,a){e.exports=a(53)},35:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),c=a.n(s),l=a(2),o=a(6),i=a(7),u=(a(35),a(38),a(3)),m=a.n(u),d=a(5),f=a(11),E=a.n(f),b={en:{addSection:"Ajouter une section",editdSection:"Ajouter une section",secName:"Nom du section",type:"Type de la section",addSeq:"Veuillez ajouter des sequences pour continuer",selectSeq:"Selectionner les s\xe9quences",close:"Fermer (Annuler)",save:"Enregistrer",visite:"Visiter",saving:"Enregist :rement...",name:"Nom :",action:"Action :s",noSection:"Aucune section !",seeClass:"Visiter",delete:"Supprimer",deleting:"Suppression...",edit:"Editer",t:"Type :"},fr:{addSection:"Ajouter une section",editdSection:"Ajouter une section",secName:"Nom du section",type:"Type de la section",addSeq:"Veuillez ajouter des sequences pour continuer",selectSeq:"Selectionner les s\xe9quences",close:"Fermer (Annuler)",save:"Enregistrer",visite:"Visiter",saving:"Enregistrement...",name:"Nom :",action:"Actions",t:"Type :",noSection:"Aucune section !",seeClass:"Visiter",delete:"Supprimer",deleting:"Suppression...",edit:"Editer"}},p="http://"+window.location.hostname+":4001",h={error:"La langue choisie n'est pas autorise!! Veuillez choisir entre l'anglais et le fran\xe7ais."},v=["fr","en"],g=function(){var e="fr";return void 0!==localStorage.lang||v.includes(localStorage.getItem("lang"))?e=localStorage.getItem("lang"):localStorage.setItem("lang",e),e},j=function(e,t){v.includes(localStorage.getItem("lang"))?(localStorage.setItem("lang",e),window.location.reload()):t(h.error)},S=a(8),N=function(e){var t=e.error,a=e.setError,s=e.setIsAddSection,c=Object(n.useState)({name:"",type:1}),o=Object(l.a)(c,2),i=o[0],u=o[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),f=d[0],E=d[1];return r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,b[g()].addSection)),r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),E(!0),fetch(p+"/sections/store",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():a(e.message)}).catch(function(e){return a("Erreur: ".concat(e))}),E(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},b[g()].secName),r.a.createElement("input",{type:"text",value:i.name,onChange:function(e){u(function(t){return Object(S.a)({},t,{name:e.target.value})})},placeholder:b[g()].seqName})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},b[g()].type),r.a.createElement("select",{value:i.type,onChange:function(e){u(function(t){return Object(S.a)({},t,{type:e.target.value})})},className:"form-control form-control-lg"},[{id:1,indication:"maternelle"},{id:2,indication:"Primaire"}].map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.id," - ",e.indication)}))),""!==t?r.a.createElement("div",{className:"error"},t):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn btn-blue",type:"submit"},f?b[g()].saving:b[g()].save),r.a.createElement("span",{onClick:function(){s(!1),a("")},type:"reset"}," ",b[g()].close))))},O=a(9),y=function(e){var t=e.error,a=e.id,s=e.setError,c=e.setIsEditSection,o=Object(n.useState)({}),i=Object(l.a)(o,2),u=i[0],f=i[1],E=Object(n.useState)(!1),h=Object(l.a)(E,2),v=h[0],j=h[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,fetch(p+"/sections/"+a,{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,f(n),j(!1);case 9:case"end":return e.stop()}},e)}))()},[]);return r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,b[g()].editdSection)),r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),j(!0),fetch(p+"/sections/"+a,{method:"PUT",body:JSON.stringify(u),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){console.log(e),e.success?window.location.reload():s(e.message)}),j(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},b[g()].seqName),r.a.createElement("input",{type:"text",value:u.name,onChange:function(e){f(function(t){return Object(S.a)({},t,{name:e.target.value})})},placeholder:b[g()].seqName})),r.a.createElement("div",{className:"field",style:{display:"flex"}},r.a.createElement("label",{className:"label"},b[g()].type),r.a.createElement("select",{value:u.type,className:"form-control",onChange:function(e){f(function(t){return Object(S.a)({},t,{type:e.target.value})})}},[1,2].map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),""!==t?r.a.createElement("div",{className:"error"},t):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn btn-blue",type:"submit"},v?b[g()].saving:b[g()].save),r.a.createElement("button",{onClick:function(){c(!1),s("")},type:"reset"}," ",b[g()].close))))},x=a(10),w=a.n(x);var _=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(""),o=Object(l.a)(c,2),u=o[0],f=o[1],h=Object(n.useState)(!1),v=Object(l.a)(h,2),j=v[0],S=v[1],x=Object(n.useState)(""),_=Object(l.a)(x,2),C=_[0],A=_[1],k=Object(n.useState)(!1),T=Object(l.a)(k,2),z=T[0],I=T[1],q=Object(n.useState)(!1),L=Object(l.a)(q,2),F=L[0],M=L[1],D=Object(n.useState)(!1),P=Object(l.a)(D,2),V=P[0],R=P[1],B=Object(i.f)();return"ad"!==sessionStorage.stat&&"comp"!==sessionStorage.stat&&B("/students/"+sessionStorage.classId),Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,fetch(p+"/sections/all",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,s(a),M(!1);case 9:case"end":return e.stop()}},e)}))()},[]),console.log(a),r.a.createElement("div",{className:"container",style:{paddingTop:"20px"}},r.a.createElement("h1",{className:"text-black"},"Choisissez une section pour continuer."),""!==u?r.a.createElement("div",{className:"alert alert-danger"},u):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("button",{onClick:function(){S(function(e){return!e})},className:"btn btn-blue"},b[g()].addSection)),r.a.createElement("div",{className:"allClas"},F?r.a.createElement("div",{className:"error",style:{position:"absolute",top:"39%",left:"53%"}},r.a.createElement(E.a,{color:"#fff",type:"spin"})):a.length>0?a.map(function(e,t){return r.a.createElement("div",{className:"clas",key:t},r.a.createElement("div",{className:"top"},r.a.createElement("div",{className:"classAbs"},e.name.slice(0,6)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},b[g()].name),r.a.createElement("span",{className:"r"},e.name)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},b[g()].t),r.a.createElement("span",{className:"r"},e.type)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},e.total_class),r.a.createElement("span",{className:"r"},"classe",e.total_class>1?"s":""))),r.a.createElement("div",{className:"bottom"},r.a.createElement("button",{onClick:function(){var t,a;t=e.id,a=e.name,sessionStorage.setItem("section_id",t),B("/classBySection/"+a)},className:"btn btn-info"},b[g()].seeClass),r.a.createElement("button",{onClick:function(){A(e.id),I(function(e){return!e})},className:"btn btn-warning"},b.en.edit),r.a.createElement("button",{onClick:function(){var t;t=e.id,w.a.fire({title:"Confirmez la suppression !",icon:"question",text:"Cette action est irreversible !!"}).then(function(e){e.value&&(R(!0),fetch(p+"/sections/"+t,{method:"DELETE",headers:{Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){console.log(e),e.success?window.location.reload():f(e.message)}),R(!1))})},className:"btn btn-danger"},V?b.en.deleting:b.en.delete)))}):r.a.createElement("div",{className:"i"},r.a.createElement("div",{className:"empty monINfos"},b[g()].noSection," ",r.a.createElement("br",null)))),r.a.createElement(O.a,{isOpen:j},r.a.createElement(N,{error:u,setError:f,setIsAddSection:S})),r.a.createElement(O.a,{isOpen:z},r.a.createElement(y,{error:u,setError:f,id:C,setIsEditSection:I})))},C={en:{emailOrPseudo:"Email ou pseudo :",login:"Se connecter",logining:"Connexion...",password:"Mot de passe : "},fr:{emailOrPseudo:"Email ou pseudo :",login:"Se connecter",logining:"Connexion...",password:"Mot de passe : "}},A=function(e){var t=e.setUser,a=Object(n.useState)({username:"",password:"",remember:!1}),s=Object(l.a)(a,2),c=s[0],o=s[1],u=Object(n.useState)(""),m=Object(l.a)(u,2),d=m[0],f=m[1],E=Object(n.useState)(!1),b=Object(l.a)(E,2),h=b[0],v=b[1],j=Object(i.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"login-view login"},r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,C[g()].login)),r.a.createElement("form",{onSubmit:function(e){!function(e){v(!0),e.preventDefault(),fetch(p+"/users/login",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){e.success?(t(!0),sessionStorage.user=e.token,sessionStorage.stat=e.status,"ad"===e.status?j("/class"):"comp"===e.status?j("/class-comp"):(sessionStorage.classId=e.classId,sessionStorage.classType=e.type,j("/students/".concat(e.classId)))):f(e.message)}).catch(function(e){f("Une erreur est survenue lors de la connexion a la base de donnee.")}),v(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},C[g()].emailOrPseudo),r.a.createElement("input",{type:"text",value:c.username,onChange:function(e){o(function(t){return Object(S.a)({},t,{username:e.target.value})})},placeholder:C[g()].emailOrPseudo})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},C[g()].password),r.a.createElement("input",{type:"password",value:c.password,onChange:function(e){o(function(t){return Object(S.a)({},t,{password:e.target.value})})},placeholder:C[g()].password})),""!==d?r.a.createElement("div",{className:"error"},d):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{type:"submit"},h?C[g()].logining:C[g()].login))))))},k={en:{add_class:"Ajouter une classe",className:"Nom de la classe",classLevel:"Niveau de la classe",section:"Section",selectSection:"--- Selectionner la section ----",fr:"Francophone",en:"Anglophone",mat:"Maternelle",level:"Niveau",close:"Fermer (Annuler)",save:"Enregistrer",saving:"Enregistrement...",class:"Classe",visite:"Visiter",delete:"Supprimer",deleting:"Suppression",nohaveclass:"Aucune classe pour l'instant",doyou:"Voulez-vous en",add:" ajouter ?",edit:"Editer ",editClass:"Editer une classe"},fr:{add_class:"Ajouter une classe",className:"Nom de la classe",classLevel:"Niveau de la classe",section:"Section",selectSection:"--- Selectionner la section ----",fr:"Francophone",en:"Anglophone",mat:"Maternelle",level:"Niveau",close:"Fermer (Annuler)",save:"Enregistrer",saving:"Enregistrement...",class:"Classe",visite:"Visiter",delete:"Supprimer",deleting:"Suppression",nohaveclass:"Aucune classe pour l'instant",doyou:"Voulez-vous en",add:" ajouter ?",edit:"Editer ",editClass:"Editer une classe"}},T=function(e){var t=e.error,a=e.setError,s=e.setIsAddClass,c=Object(n.useState)({name:"",section:parseInt(sessionStorage.getItem("section_id")),level:1,inscriptions_news_students:0,inscriptions_olds_students:0,first_tranch_news_students:0,first_tranch_olds_students:0,second_tranch_news_students:0,second_tranch_olds_students:0,third_tranch_news_students:0,third_tranch_olds_students:0}),o=Object(l.a)(c,2),i=o[0],u=o[1],f=Object(n.useState)([]),E=Object(l.a)(f,2),b=E[0],h=E[1],v=Object(n.useState)(!1),j=Object(l.a)(v,2),N=j[0],O=j[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,fetch(p+"/sections/all",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,h(a),O(!1);case 9:case"end":return e.stop()}},e)}))()},[]);return r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,k[g()].add_class)),r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),O(!0),fetch(p+"/class/add",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?(s(function(e){return!e}),window.location.reload()):a(e.message)}),O(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},k[g()].className),r.a.createElement("input",{type:"text",value:i.name,onChange:function(e){u(function(t){return Object(S.a)({},t,{name:e.target.value})})},placeholder:"Entrer un nom de classe valide"})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},k[g()].classLevel),r.a.createElement("input",{type:"number",value:i.level,onChange:function(e){u(function(t){return Object(S.a)({},t,{level:e.target.value})})},placeholder:"Entrer un nom de classe valide"})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},k[g()].section),r.a.createElement("select",{value:i.section,onChange:function(e){u(function(t){return Object(S.a)({},t,{section:e.target.value})})},className:"form-control form-control-lg",placeholder:"Enter password"},r.a.createElement("option",{value:""},"--- Selectionner la section ----"),b.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",{className:" table-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Noms"),r.a.createElement("th",null,"Nouveau"),r.a.createElement("th",null,"Ancien"))),r.a.createElement("tbody",{className:"table-light"},r.a.createElement("tr",null,r.a.createElement("td",null,"Inscriptions"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",s:!0,tyle:{width:"150px"},value:i.inscriptions_news_students,onChange:function(e){u(function(t){return Object(S.a)({},t,{inscriptions_news_students:e.target.value})})}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",style:{width:"150px"},value:i.inscriptions_olds_students,onChange:function(e){u(function(t){return Object(S.a)({},t,{inscriptions_olds_students:e.target.value})})}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"1ere Tranche"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",style:{width:"150px"},value:i.first_tranch_news_students,onChange:function(e){u(function(t){return Object(S.a)({},t,{first_tranch_news_students:e.target.value})})}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",style:{width:"150px"},value:i.first_tranch_olds_students,onChange:function(e){u(function(t){return Object(S.a)({},t,{first_tranch_olds_students:e.target.value})})}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"2eme Tranche"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",style:{width:"150px"},value:i.second_tranch_news_students,onChange:function(e){u(function(t){return Object(S.a)({},t,{second_tranch_news_students:e.target.value})})}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",style:{width:"150px"},value:i.second_tranch_olds_students,onChange:function(e){u(function(t){return Object(S.a)({},t,{second_tranch_olds_students:e.target.value})})}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"3eme Tranche"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",style:{width:"150px"},value:i.third_tranch_news_students,onChange:function(e){u(function(t){return Object(S.a)({},t,{third_tranch_news_students:e.target.value})})}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",style:{width:"150px"},value:i.third_tranch_olds_students,onChange:function(e){u(function(t){return Object(S.a)({},t,{third_tranch_olds_students:e.target.value})})}}))))),""!==t?r.a.createElement("div",{className:"error"},t):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn btn-blue",type:"submit"},N?k[g()].saving:k[g()].save),r.a.createElement("button",{onClick:function(){s(function(e){return!e}),a("")},type:"reset"}," ",k[g()].close," "))))},z=function(e){var t=e.error,a=e.setError,s=e.setIsEditClass,c=e.classToEditId,o=Object(n.useState)({}),i=Object(l.a)(o,2),u=i[0],f=i[1],E=Object(n.useState)(!1),b=Object(l.a)(E,2),h=b[0],v=b[1],j=Object(n.useState)([]),N=Object(l.a)(j,2),O=N[0],y=N[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,fetch(p+"/class/"+c,{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,f(a),v(!1);case 9:case"end":return e.stop()}},e)}))()},[]),Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,fetch(p+"/sections/all",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,y(a),v(!1);case 9:case"end":return e.stop()}},e)}))()},[]);return r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,k[g()].editClass)),r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),v(!0),fetch(p+"/class/"+c,{method:"PUT",body:JSON.stringify(u),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){console.log(e),e.success?window.location.reload():a(e.message)}),v(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},k[g()].className),r.a.createElement("input",{type:"text",value:u.name,onChange:function(e){f(function(t){return Object(S.a)({},t,{name:e.target.value})})},placeholder:"Entrer un nom de classe valide"})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},k[g()].classLevel),r.a.createElement("input",{type:"number",value:u.level,onChange:function(e){f(function(t){return Object(S.a)({},t,{level:e.target.value})})},placeholder:"Entrer un nom de classe valide"})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},k[g()].section),r.a.createElement("select",{value:u.section,onChange:function(e){f(function(t){return Object(S.a)({},t,{section:e.target.value})})},className:"form-control form-control-lg",placeholder:"Enter password"},r.a.createElement("option",{value:""},"--- Selectionner la section ----"),O.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",{className:" table-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Noms"),r.a.createElement("th",null,"Nouveau"),r.a.createElement("th",null,"Ancien"))),r.a.createElement("tbody",{className:"table-light"},r.a.createElement("tr",null,r.a.createElement("td",null,"Inscriptions"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",style:{width:"150px"},value:u.inscriptions_news_students,onChange:function(e){f(function(t){return Object(S.a)({},t,{inscriptions_news_students:e.target.value})})}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",style:{width:"150px"},value:u.inscriptions_olds_students,onChange:function(e){f(function(t){return Object(S.a)({},t,{inscriptions_olds_students:e.target.value})})}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"1ere Tranche"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",style:{width:"150px"},value:u.first_tranch_news_students,onChange:function(e){f(function(t){return Object(S.a)({},t,{first_tranch_news_students:e.target.value})})}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",style:{width:"150px"},value:u.first_tranch_olds_students,onChange:function(e){f(function(t){return Object(S.a)({},t,{first_tranch_olds_students:e.target.value})})}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"2eme Tranche"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",style:{width:"150px"},value:u.second_tranch_news_students,onChange:function(e){f(function(t){return Object(S.a)({},t,{second_tranch_news_students:e.target.value})})}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",style:{width:"150px"},value:u.second_tranch_olds_students,onChange:function(e){f(function(t){return Object(S.a)({},t,{second_tranch_olds_students:e.target.value})})}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"3eme Tranche"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",style:{width:"150px"},value:u.third_tranch_news_students,onChange:function(e){f(function(t){return Object(S.a)({},t,{third_tranch_news_students:e.target.value})})}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",style:{width:"150px"},value:u.third_tranch_olds_students,onChange:function(e){f(function(t){return Object(S.a)({},t,{third_tranch_olds_students:e.target.value})})}}))))),""!==t?r.a.createElement("div",{className:"error"},t):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn btn-blue",type:"submit"},h?k[g()].saving:k[g()].save),r.a.createElement("button",{onClick:function(){s(function(e){return!e}),a("")},type:"reset"}," ",k[g()].close," "))))},I=function(e,t,a){var n=URL.createObjectURL(e.target.files[0]);fetch(n).then(function(e){return e.text()}).then(function(e){fetch(p+t,{headers:{"Content-Type":"application/json",Authorization:sessionStorage.user},method:"POST",body:JSON.stringify({csvText:e})}).then(function(e){e.success?window.location.reload():a(e.message)}).catch(function(e){a("Erreur: "+e)})})},q=function(){var e=Object(i.f)();"ad"!==sessionStorage.stat&&e("/students/"+sessionStorage.classId);var t=Object(n.useState)({}),a=Object(l.a)(t,2),s=a[0],c=a[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),b=f[0],h=f[1],v=Object(n.useState)(""),j=Object(l.a)(v,2),S=j[0],N=j[1],y=Object(n.useState)(""),w=Object(l.a)(y,2),_=w[0],C=w[1],A=Object(n.useState)(!1),q=Object(l.a)(A,2),L=q[0],F=q[1],M=Object(n.useState)(!1),D=Object(l.a)(M,2),P=D[0],V=D[1],R=Object(n.useState)(!1),B=Object(l.a)(R,2),J=B[0],U=B[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,fetch(p+"/class/getAll",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,c(a),h(!1);case 9:case"end":return e.stop()}},e)}))()},[]);return r.a.createElement("div",{style:{padding:"10px 10px"},className:"container"},r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("button",{onClick:function(){V(function(e){return!e})},className:"btn btn-blue"},"Ajouter une classe"),r.a.createElement("label",{htmlFor:"csvFile",style:{marginLeft:"10px"},className:"btn btn-success"},"Importer les classes"),r.a.createElement("input",{type:"file",accept:".csv",id:"csvFile",style:{display:"none"},onChange:function(e){I(e,"/upload/class/csv",N)}})),r.a.createElement("div",{className:"allClas"},b?r.a.createElement("div",{className:"error",style:{position:"absolute",top:"39%",left:"53%"}},r.a.createElement(E.a,{color:"#fff",type:"spin"})):s.length>0?s.map(function(e,t){return r.a.createElement("div",{className:"clas",key:t},r.a.createElement("div",{className:"top"},r.a.createElement("div",{className:"classAbs"},e.name.slice(0,8)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},k[g()].class,":"),r.a.createElement("span",{className:"r"},e.name)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},k[g()].section,":"),r.a.createElement("span",{className:"r"},e.sName)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},k[g()].level,":"),r.a.createElement("span",{className:"r"},e.level)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},e.total_students),r.a.createElement("span",{className:"r"},"\xe9l\xe8ve",e.total_students>1?"s":""))),r.a.createElement("div",{className:"bottom"},r.a.createElement(o.b,{to:"/students/".concat(e.id),className:"btn btn-primary"}," ",k[g()].visite," "),r.a.createElement("button",{onClick:function(){C(e.id),U(function(e){return!e})},className:"btn btn-warning"}," ",k[g()].edit," "),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){var t;t=e.id,x.fire({title:"Confirmez la suppression !",icon:"question",text:"Cette action est irreversible !!"}).then(function(e){e.value&&(F(!0),fetch(p+"/class/"+t,{method:"DELETE",headers:{Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){console.log(e),e.success?window.location.reload():(console.log(e.message),N(e.message))}),F(!1))})}}," ",L?k[g()].deleting:k[g()].delete," ")))}):r.a.createElement("div",{className:"i"},r.a.createElement("div",{className:"empty monINfos"},k[g()].nohaveclass," ",r.a.createElement("br",null),k[g()].doyou," ",r.a.createElement("button",{onClick:function(){V(function(e){return!e})},className:"btn btn-blue"}," ",k[g()].add," ")))),r.a.createElement(O.a,{isOpen:P},r.a.createElement(T,{error:S,setError:N,setIsAddClass:V})),r.a.createElement(O.a,{isOpen:J},r.a.createElement(z,{error:S,setError:N,setIsEditClass:U,classToEditId:_}),"        "))},L={en:{error:"La page que vous recherchez n'est pas disponible",help:"Aller dans les classes"},fr:{error:"La page que vous recherchez n'est pas disponible",help:"Aller dans les classes"}};var F=function(){return r.a.createElement("div",{className:"conError"},r.a.createElement("h1",{class:"text-center "},"404"),r.a.createElement("div",{class:"content_box_404"},r.a.createElement("h3",{class:"h2"},L[g()].error),r.a.createElement(o.b,{to:"/class",class:"link_404"},L[g()].help," ")))},M={en:{question:"Est il le temps d'editer les notes ?",save:"Enregistrer",saving:"Enregistrement...",schoolYear:"Ann\xe9e scolaire :",setting:"Param\xe8tre de l'application"},fr:{question:"Est il le temps d'editer les notes ?",save:"Enregistrer",saving:"Enregistrement...",schoolYear:"Ann\xe9e scolaire :",setting:"Param\xe8tre de l'application"}},D=[2020,2021,2022,2023,2024,2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035,2036,2037,2038,2039,2040,2041,2042,2043,2044,2045,2046,2047,2048,2049];var P=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(!1),o=Object(l.a)(c,2),u=o[0],f=o[1],E=Object(n.useState)(""),b=Object(l.a)(E,2),h=b[0],v=b[1],j=Object(i.f)();return Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("ad"!==sessionStorage.stat){e.next=10;break}return f(!0),e.next=4,fetch(p+"/settings/getSettings",{headers:{Authorization:sessionStorage.user}}).catch(function(e){return v("Erreur: ".concat(e))});case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,s(a),f(!1);case 10:case"end":return e.stop()}},e)}))()},[]),r.a.createElement("div",{className:"view settings-view container"},r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,M[g()].setting)),r.a.createElement("form",{onSubmit:function(e){!function(e){f(!0),e.preventDefault(),fetch(p+"/settings/setSettings",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?j("/class"):v(e.message)}).catch(function(e){v("Une erreur est survenue lors de la connexion a la base de donnee.")}),f(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"field",style:{display:"flex"}},r.a.createElement("label",{className:"label"},M[g()].schoolYear),r.a.createElement("select",{value:a.year_school,onChange:function(e){s(function(t){return Object(S.a)({},t,{year_school:e.target.value})})}},D.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:"field check ",style:{display:"flex"}},r.a.createElement("label",{className:"label ".concat("yes"===a.is_editable?"checked":""),htmlFor:"check"},M[g()].question),r.a.createElement("input",{type:"checkbox",checked:"yes"===a.is_editable,onChange:function(e){s(function(e){return Object(S.a)({},e,{is_editable:"yes"===a.is_editable?"no":"yes"})})},id:"check"})),""!==h?r.a.createElement("div",{className:"error"},h):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{type:"submit"},u?M[g()].saving:M[g()].save)))))},V=a(13),R=a(60),B=a(61),J=a(62);var U=function(e){var t=e.clas,a=e.key,s=Object(n.useState)(!1),c=Object(l.a)(s,2),i=c[0],u=c[1];return r.a.createElement("div",{className:"clas",key:a},r.a.createElement("div",{className:"top"},r.a.createElement("div",{className:"classAbs"},t.name.slice(0,8)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},k[g()].class,":"),r.a.createElement("span",{className:"r"},t.name)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},k[g()].section,":"),r.a.createElement("span",{className:"r"},t.sName))),r.a.createElement("div",{className:"bottom"},r.a.createElement(o.b,{to:"/students/".concat(t.id),className:"btn btn-primary"}," ",k[g()].class," "),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){var e;e=t.id,x.fire({title:"Confirmez la suppression !",icon:"question",text:"Cette action est irreversible !!"}).then(function(t){t.value&&(u(!0),fetch(p+"/class/"+e,{method:"DELETE",headers:{Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){console.log(e),e.success?window.location.reload():console.log(e.message)}),u(!1))})}}," ",i?k[g()].deleting:k[g()].delete," ")))},H={en:{addTeacher:"Ajouter un enseignant",editTeacher:"Editer un enseignant",teacherName:"Nom de l'enseignagnt :",teacherSubname:"Pr\xe9nom de l'ensignant :",teacherClassname:"Classe de l'enseignant",noClass:"Veuillez cr\xe9er une classe pour continuer :",selectClass:"S\xe9lectionnez une classe :",importTeacher:"Importer les enseignant",seeMdp:"Voir le mdp",generateNewMdp:"G\xe9n\xe9rer les mdp",downloadTeacherMdp:"Telecharger les mots de passe.",loading:"En cours...",number:"Num\xe9ro de t\xe9l\xe9phone de l'enseignant :",birthday:"Date de naissance de l'enseignant :",close:"Fermer (Annuler)",name:"Nom",sex:"Sex de l'enseignant",subname:"Prenom",edit:"Editer",class:"Classe",section:"Section",mr:"Matr.",delete:"Supprimer",mat:"Maternelle",fr:"Francophone",en:"Anglogphone",deleting:"Suppression...",noTeacher:"Aucun enseignant pour l'instant",doYou:"Voulez-vous",add:"ajouter ?",save:"Enregistrer",saving:"Enregistrement...",selectSex:"--- Selectionner le sexe de l'enseignant ----",m:"Masculin",f:"F\xe9minin"},fr:{addTeacher:"Ajouter un enseignant",editTeacher:"Editer un enseignant",teacherName:"Nom de l'enseignagnt :",teacherSubname:"Pr\xe9nom de l'ensignant :",teacherClassname:"Classe de l'enseignant",noClass:"Veuillez cr\xe9er une classe pour continuer :",selectClass:"S\xe9lectionnez une classe :",importTeacher:"Importer les enseignant",seeMdp:"Voir le mdp",generateNewMdp:"G\xe9n\xe9rer les mdp",downloadTeacherMdp:"Telecharger les mots de passe.",loading:"En cours...",number:"Num\xe9ro de t\xe9l\xe9phone de l'enseignant :",birthday:"Date de naissance de l'enseignant :",close:"Fermer (Annuler)",name:"Nom",sex:"Sex de l'enseignant",subname:"Prenom",edit:"Editer",class:"Classe",section:"Section",mr:"Matr.",delete:"Supprimer",mat:"Maternelle",fr:"Francophone",en:"Anglogphone",deleting:"Suppression...",noTeacher:"Aucun enseignant pour l'instant",doYou:"Voulez-vous",add:"ajouter ?",save:"Enregistrer",saving:"Enregistrement...",selectSex:"--- Selectionner le sexe de l'enseignant ----",m:"Masculin",f:"F\xe9minin"}};var Y=function(e){var t=e.teacher,a=e.key,s=Object(n.useState)(!1),c=Object(l.a)(s,2),o=c[0],i=c[1];return r.a.createElement("div",{className:"clas",key:a},r.a.createElement("div",{className:"top"},r.a.createElement("div",{className:"classAbs"},t.name),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},H[g()].name,":"),r.a.createElement("span",{className:"r"},t.name)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},H[g()].subname,":"),r.a.createElement("span",{className:"r"},t.subname)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},H[g()].class,":"),r.a.createElement("span",{className:"r"},t.className)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},H[g()].section,":"),r.a.createElement("span",{className:"r"},t.section_name)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},H[g()].mr,":"),r.a.createElement("span",{className:"r"},t.matricule))),r.a.createElement("div",{className:"bottom"},r.a.createElement("button",{className:"btn btn-danger",onClick:function(){var e;e=t.id,x.fire({title:"Confirmez la suppression !",icon:"question",text:"Cette action est irreversible !!"}).then(function(t){t.value&&(i(!0),fetch(p+"/teachers/"+e,{method:"DELETE",headers:{Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){console.log(e),e.success?window.location.reload():console.log(e.message)}),i(!1))})}}," ",o?H[g()].deleting:H[g()].delete," ")))},Z={en:{action:"Actions",addSeq:"Ajouter une s\xe9quence",addTrim:"Ajouter un trimestre",addStudent:"Ajouter un \xe9l\xe8ve en ",editStudent:"Editer un \xe9l\xe8ve",studentName:"Nom de l'\xe9l\xe8ve :",studentSubname:"Pr\xe9nom de l'\xe9l\xe8ve :",studentClassname:"Classe de l'\xe9l\xe8ve",fatherEmail:"Email du parent :",fatherNumber:"Num\xe9ro de t\xe9l\xe9phone du parent :",fatherName:"Nom du parent :",fatherProfession:"Profession du parent :",importStudent:"Importer les \xe9l\xe8ves",loading:"En cours...",number:"Num\xe9ro de t\xe9l\xe9phone de l'\xe9l\xe8ve :",birthday:"Date de naissance de l'\xe9l\xe8ve :",close:"Fermer (Annuler)",enterData:"Entrer les notes",seeData:"Voir les donn\xe9es",studentList:"Liste des \xe9l\xe8ves en ",downloadCsv:"Telecharger la liste au format csv",downloadPdf:"Telecharger la liste au format pdf",range:"Ranger",name:"Nom",sex:"Sex de l'\xe9l\xe8ve",subname:"Prenom",edit:"Editer",class:"Classe",section:"Section",mr:"Matr.",delete:"Supprimer",mat:"Maternelle",specialSeq:"S\xe9quence type sp\xe9cial",addAnnualExam:"Ajouter un examen annuel",specialTrim:"Trimestre type sp\xe9cial",specialAnnualExam:"Examen annuel type sp\xe9cial",noSeq:"Aucune s\xe9quence pour l'instant.",examName:"Nom de l'examen annuel",noTrim:"Aucun trimestre pour l'instant.",noAnnualExam:"Aucun examen annuel pour l'instant.",fr:"Francophone",en:"Anglogphone",s:"Sexe",deleting:"Suppression...",noStudent:"Aucun \xe9l\xe8ve en",now:"pour l'instant.",doYou:"Voulez-vous",add:"ajouter ?",save:"Enregistrer",saving:"Enregistrement...",selectSex:"--- Selectionner le sexe de l'\xe9l\xe8ve ----",m:"Masculin",b:"Date de naissance",f:"F\xe9minin",n:"Num\xe9ro",newStudent:"Nouveau \xe9l\xe8ve ?",birthday_place:"Lieu de naissance"},fr:{action:"Actions",addSeq:"Ajouter une s\xe9quence",addTrim:"Ajouter un trimestre",addStudent:"Ajouter un \xe9l\xe8ve en ",editStudent:"Editer un \xe9l\xe8ve",studentName:"Nom de l'\xe9l\xe8ve :",studentSubname:"Pr\xe9nom de l'\xe9l\xe8ve :",studentClassname:"Classe de l'\xe9l\xe8ve",fatherEmail:"Email du parent :",fatherNumber:"Num\xe9ro de t\xe9l\xe9phone du parent :",fatherName:"Nom du parent :",fatherProfession:"Profession du parent :",importStudent:"Importer les \xe9l\xe8ves",loading:"En cours...",number:"Num\xe9ro de t\xe9l\xe9phone de l'\xe9l\xe8ve :",birthday:"Date de naissance de l'\xe9l\xe8ve :",close:"Fermer (Annuler)",enterData:"Entrer les notes",seeData:"Voir les donn\xe9es",studentList:"Liste des \xe9l\xe8ves en ",downloadCsv:"Telecharger la liste au format csv",downloadPdf:"Telecharger la liste au format pdf",range:"Ranger",name:"Nom",sex:"Sex de l'\xe9l\xe8ve",subname:"Prenom",examName:"Nom de l'examen annuel",edit:"Editer",class:"Classe",section:"Section",mr:"Matr.",delete:"Supprimer",mat:"Maternelle",specialSeq:"S\xe9quence type sp\xe9cial",addAnnualExam:"Ajouter un examen annuel",specialTrim:"Trimestre type sp\xe9cial",specialAnnualExam:"Examen annuel type sp\xe9cial",noSeq:"Aucune s\xe9quence pour l'instant.",noTrim:"Aucun trimestre pour l'instant.",noAnnualExam:"Aucun examen annuel pour l'instant.",fr:"Francophone",en:"Anglogphone",s:"Sexe",deleting:"Suppression...",noStudent:"Aucun \xe9l\xe8ve en",now:"pour l'instant.",doYou:"Voulez-vous",add:"ajouter ?",save:"Enregistrer",saving:"Enregistrement...",selectSex:"--- Selectionner le sexe de l'\xe9l\xe8ve ----",m:"Masculin",b:"Date de naissance",f:"F\xe9minin",n:"Num\xe9ro",newStudent:"Nouveau \xe9l\xe8ve ?",birthday_place:"Lieu de naissance"}},G=function(e){var t=e.error,a=e.setError,s=e.studentToEditId,c=e.setIsEditStudent,o=Object(n.useState)({}),u=Object(l.a)(o,2),f=u[0],E=u[1],b=Object(n.useState)(!1),h=Object(l.a)(b,2),v=h[0],j=h[1],N=Object(i.f)();Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,fetch(p+"/students/one/"+s,{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,E(a),j(!1);case 9:case"end":return e.stop()}},e)}))()},[s]);return r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,Z[g()].editStudent)),r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),j(!0),f.date="".concat(new Date(f.birthday).getUTCFullYear(),"-").concat(new Date(f.birthday).getMonth()<10?"0"+new Date(f.birthday).getMonth():"","-0").concat(new Date(f.birthday).getDay()),fetch(p+"/students/"+s,{method:"PUT",body:JSON.stringify(f),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?"ad"===sessionStorage.stat?window.location.reload():N("/reduct-fees/".concat(s)):a(e.message)}),j(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].studentName," ",r.a.createElement("span",{className:"text-danger"},"*")," "),r.a.createElement("input",{type:"text",value:f.name,onChange:function(e){E(function(t){return Object(S.a)({},t,{name:e.target.value})})},placeholder:Z[g()].studentName})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].studentSubname),r.a.createElement("input",{type:"text",value:f.subname,onChange:function(e){E(function(t){return Object(S.a)({},t,{subname:e.target.value})})},placeholder:Z[g()].subName})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].birthday),r.a.createElement("input",{type:"date",value:f.birthday,onChange:function(e){E(function(t){return Object(S.a)({},t,{birthday:e.target.value})})},placeholder:Z[g()].birthday})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].birthday_place),r.a.createElement("input",{type:"text",value:f.birthday_place,onChange:function(e){E(function(t){return Object(S.a)({},t,{birthday_place:e.target.value})})},placeholder:Z[g()].birthday_place})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].sex),r.a.createElement("select",{value:f.sex,onChange:function(e){E(function(t){return Object(S.a)({},t,{sex:e.target.value})})},className:"form-control form-control-lg"},r.a.createElement("option",{value:""},Z[g()].selectSex),r.a.createElement("option",{value:"m"},Z[g()].m),r.a.createElement("option",{value:"f"},Z[g()].f))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].fatherName," ",r.a.createElement("span",{className:"text-danger"},"*")," "),r.a.createElement("input",{type:"tel",value:f.fatherName,onChange:function(e){E(function(t){return Object(S.a)({},t,{fatherName:e.target.value})})},placeholder:Z[g()].fatherName})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].fatherNumber),r.a.createElement("input",{type:"tel",value:f.phone_number,onChange:function(e){E(function(t){return Object(S.a)({},t,{phone_number:e.target.value})})},placeholder:Z[g()].fatherNumber})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].fatherEmail),r.a.createElement("input",{type:"email",value:f.email,onChange:function(e){E(function(t){return Object(S.a)({},t,{email:e.target.value})})},placeholder:Z[g()].fatherEmail})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].fatherProfession),r.a.createElement("input",{type:"tel",value:f.profession,onChange:function(e){E(function(t){return Object(S.a)({},t,{profession:e.target.value})})},placeholder:Z[g()].fatherProfession})),r.a.createElement("div",{className:"field check ",style:{display:"flex"}},r.a.createElement("label",{className:"label ".concat("new"===f.status?"checked":""),htmlFor:"check"},Z[g()].newStudent),r.a.createElement("input",{type:"checkbox",checked:"new"===f.status,onChange:function(e){E(function(e){return Object(S.a)({},e,{status:"new"===f.status?"old":"new"})})},id:"check"})),""!==t?r.a.createElement("div",{className:"error"},t):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn btn-blue",type:"submit"},v?Z[g()].saving:Z[g()].save),r.a.createElement("button",{onClick:function(){c(!1),a("")},type:"reset"}," ",Z[g()].close))))};var W=function(e){var t=e.student,a=e.key,s=Object(n.useState)(!1),c=Object(l.a)(s,2),i=c[0],u=c[1],m=Object(n.useState)(""),d=Object(l.a)(m,2),f=d[0],E=d[1],b=Object(n.useState)(!1),h=Object(l.a)(b,2),v=h[0],j=h[1],S=Object(n.useState)(""),N=Object(l.a)(S,2),y=(N[0],N[1]),w="ad"===sessionStorage.stat?function(e){x.fire({title:"Confirmez la suppression !",icon:"question",text:"Cette action est irreversible !!"}).then(function(t){t.value&&(u(!0),fetch(p+"/students/"+e,{method:"DELETE",headers:{Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():y(e.message)}).catch(function(e){return y(e)}),u(!1))})}:function(e){x.fire({title:"Entrer le mot de passe de l'admin",input:"password",inputLabel:"Mot de passe de l'admin",showCancelButton:!0}).then(function(t){var a=t.value;fetch(p+"/users/confirmAdminPassword",{method:"POST",body:JSON.stringify({password:a}),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(t){console.log(t,a),t.success?x.fire({title:"Confirmez la suppression !",icon:"question",text:"Cette action est irreversible !!"}).then(function(t){t.value&&(u(!0),fetch(p+"/students/"+e,{method:"DELETE",headers:{Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():y(e.message)}).catch(function(e){return y(e)}),u(!1))}):y(t.message)})})};return r.a.createElement("div",{className:"clas",key:a},"",r.a.createElement("div",{className:"top"},r.a.createElement("div",{className:"classAbs"},t.name),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},Z[g()].name,":"),r.a.createElement("span",{className:"r"},t.name)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},Z[g()].subname,":"),r.a.createElement("span",{className:"r"},t.subname)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},Z[g()].s,":"),r.a.createElement("span",{className:"r"},"m"===t.section?"Masculin":"Feminin")),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},Z[g()].class,":"),r.a.createElement("span",{className:"r"},t.class_name))),r.a.createElement("div",{className:"bottom"},r.a.createElement(o.b,{to:"/reduct-fees/"+t.id,className:"btn btn-secondary"},"Payer"),r.a.createElement("button",{onClick:function(){E(t.id),j(function(e){return!e})},to:"/students/edit/".concat(t.id),className:"btn btn-warning"}," ",Z[g()].edit," "),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){w(t.id)}}," ",i?Z[g()].deleting:Z[g()].delete," ")),r.a.createElement(O.a,{isOpen:v},r.a.createElement(G,{error:"",setError:function(){},studentToEditId:f,setIsEditStudent:j})))},Q={en:{help:"Essayez de choisir un autre endroit de recherche",noResult:"Aucun resultat pour votre recherche! ",placeholder:"Rechercher un eleve, enseignant ou classe par son nom, prenom ou matricule (uniquement les enseignants)",searchInClass:"Rechercher parmi les classes",searchInStudent:"Rechercher parmi les eleves",searchInTeacher:"Rechercher parmi les enseignants"},fr:{help:"Essayez de choisir un autre endroit de recherche",noResult:"Aucun resultat pour votre recherche! ",placeholder:"Rechercher un eleve, enseignant ou classe par son nom, prenom ou matricule (uniquement les enseignants)",searchInClass:"Rechercher parmi les classes",searchInStudent:"Rechercher parmi les eleves",searchInTeacher:"Rechercher parmi les enseignants"}};var X=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(!1),o=Object(l.a)(c,2),i=o[0],u=o[1],f=Object(n.useState)([{d:"  "}]),b=Object(l.a)(f,2),h=b[0],v=b[1],j=Object(n.useState)(""),S=Object(l.a)(j,2),N=S[0],O=S[1],y=Object(n.useState)(!1),w=Object(l.a)(y,2),_=w[0],C=w[1],A=Object(n.useState)([]),k=Object(l.a)(A,2),T=k[0],z=k[1],I=Object(n.useState)([]),q=Object(l.a)(I,2),L=q[0],F=q[1],M=Object(n.useState)([]),D=Object(l.a)(M,2),P=D[0],H=D[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,fetch("".concat(p+"/students/getAll"),{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,z(a),u(!1);case 9:case"end":return e.stop()}},e)}))()},[]),Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,fetch(p+"/teachers/getAll",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,H(a),u(!1);case 9:case"end":return e.stop()}},e)}))()},[]),Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,fetch(p+"/class/getOAll/"+sessionStorage.getItem("section_id"),{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,F(a),u(!1);case 9:case"end":return e.stop()}},e)}))()},[]);var Z=function(e){switch(O(e),u(!0),setTimeout(function(){u(!1)},1e3),e){case"t":var t=P.filter(function(e){return e.name.toLowerCase().includes(a.toLocaleLowerCase())}),n=P.filter(function(e){return e.subname.toLowerCase().includes(a.toLocaleLowerCase())}),r=Object(V.a)(new Set([].concat(Object(V.a)(t),Object(V.a)(n))));v(r);break;case"s":var s=T.filter(function(e){return e.name.toLowerCase().includes(a.toLocaleLowerCase())}),c=T.filter(function(e){return e.subname.toLowerCase().includes(a.toLocaleLowerCase())}),l=Object(V.a)(new Set([].concat(Object(V.a)(s),Object(V.a)(c))));v(l);break;case"c":var o=L.filter(function(e){return e.name.toLowerCase().includes(a.toLocaleLowerCase())});console.log(o,a);var i=Object(V.a)(new Set(Object(V.a)(o)));v(i)}};return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),""!==a?(C(!0),""!==N&&"ad"===sessionStorage.stat?Z(N):Z("s")):(C(!1),x.fire({title:"Erreur lors de la recherche !",icon:"error",text:"La recherche ne peut etre un vide !!",confirmButtonColor:"rgba(196, 23, 112, 1)",confirmButtonText:"J'ai compris !"}))}(e)},className:"searchForm"},r.a.createElement("input",{type:"search",value:a,onChange:function(e){s(e.target.value)},placeholder:Q[g()].placeholder}),r.a.createElement("button",{className:"btn btn-elementary"},r.a.createElement(R.a,null))),_?r.a.createElement("div",{className:"optionsSearch"},r.a.createElement("div",{onClick:function(){Z("s")},className:"".concat("s"===N?"isthis":""," option")},r.a.createElement(B.a,null)," ",Q[g()].searchInStudent),"ad"===sessionStorage.stat?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(){Z("t")},className:"".concat("t"===N?"isthis":""," option")},r.a.createElement(B.a,null)," ",Q[g()].searchInTeacher),r.a.createElement("div",{onClick:function(){Z("c")},className:"".concat("c"===N?"isthis":""," option")},r.a.createElement(J.a,null)," ",Q[g()].searchInClass)):r.a.createElement(r.a.Fragment,null)):r.a.createElement(r.a.Fragment,null),i?r.a.createElement("div",{className:"error",style:{position:"absolute",top:"39%",left:"53%"}},r.a.createElement(E.a,{color:"#fff",type:"spin"})):h.length>0?r.a.createElement("div",{className:"allClas",style:{marginTop:"20px"}},h.map(function(e,t){switch(N){case"c":return r.a.createElement(U,{clas:e,key:t});case"t":return r.a.createElement(Y,{key:t,teacher:e});case"s":return r.a.createElement(W,{key:t,student:e})}return""})):r.a.createElement("div",{className:"i"},r.a.createElement("div",{className:"empty monINfos"},Q[g()].noResult," ",r.a.createElement("br",null),Q[g()].help)),r.a.createElement("div",{className:"results"}))},K=a(63),$=a(64),ee=a(65),te=a(66),ae=a(67),ne=a(68),re=a(16),se=a.n(re),ce=a(24),le=a.n(ce);var oe=function(){var e=Object(n.useState)(window.location.href.split("/")[3]),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(i.f)(),u=Object(n.useState)({}),f=Object(l.a)(u,2),E=f[0],b=f[1],h=Object(n.useState)(!1),v=Object(l.a)(h,2),g=v[0],j=v[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===sessionStorage.user){e.next=10;break}return j(!0),e.next=4,fetch(p+"/users/getTeacherOrAdmin/",{headers:{Authorization:sessionStorage.user}}).catch(function(e){return console.log(e)});case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,b(a),j(!1);case 10:case"end":return e.stop()}},e)}))()},[]);var S="ad"===sessionStorage.stat?[{name:"Sections",href:"/",icon:r.a.createElement(J.a,null)},{name:"Classes",href:"/class",icon:r.a.createElement(K.a,null)},{name:"Enseignants",href:"/teachers",icon:r.a.createElement(B.a,null)},{name:"Matieres",href:"/matieres",icon:r.a.createElement($.a,null)},{name:"Rechercher",href:"/search",icon:r.a.createElement(R.a,null)},{name:"Profil",href:"/params",icon:r.a.createElement(ee.a,null)},{name:"Parametres",href:"/settings",icon:r.a.createElement(te.a,null)}]:"comp"===sessionStorage.stat?[{name:"Classes",href:"/class-comp",icon:r.a.createElement(K.a,null)},{name:"Rechercher",href:"/search",icon:r.a.createElement(R.a,null)},{name:"Profil",href:"/params-comp",icon:r.a.createElement(ee.a,null)},{name:"Statitics",href:"/stats",icon:r.a.createElement(ee.a,null)}]:[{name:"Eleves",href:"/students/"+sessionStorage.classId,icon:r.a.createElement(B.a,null)},{name:"Annuel",href:"/annual-exams",icon:r.a.createElement($.a,null)},{name:"Trimestres",href:"/trims",icon:r.a.createElement(ae.a,null)},{name:"Rechercher",href:"/search",icon:r.a.createElement(R.a,null)},{name:"Profil",href:"/params",icon:r.a.createElement(ee.a,null)}];return void 0!==sessionStorage.user?r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"toggler"}),r.a.createElement(o.b,{to:"/",className:"sidebar-brand"},r.a.createElement("img",{src:se.a,alt:"application logo",style:{width:"100px",height:"100px"},className:"sidebar-brand-logo"})),r.a.createElement("div",{className:"sidebar-links"},S.map(function(e,t){return r.a.createElement(o.b,{key:t,to:e.href,className:"sidebar-link ".concat(a===e.href?"active":""),onClick:function(){s(e.href)}},e.icon,r.a.createElement("span",null,e.name))})),r.a.createElement("div",{className:"sidebar-user"},r.a.createElement("div",{className:"user-avatar",onClick:function(){sessionStorage.removeItem("stat"),sessionStorage.removeItem("user"),c("/login"),window.location.reload()}},r.a.createElement("img",{src:le.a,alt:" avatar"}),r.a.createElement("div",{className:"logoutBtn"},r.a.createElement(ne.a,null))),r.a.createElement("div",{className:"user-infos"},r.a.createElement("h5",null,"@".concat(E!=={}?"ad"===sessionStorage.stat||"comp"===sessionStorage.stat?E.username:E.name+" "+E.subname:"")),r.a.createElement("h5",null,g?"":"ad"===sessionStorage.stat?"Admin":"comp"===sessionStorage.stat?"Comptable":"Enseignant")))):r.a.createElement(r.a.Fragment,null)},ie={en:{add:"Ajouter",addAdmin:"Add administrator",addind:"Ajout...",admin:"Administrateur",allAdmin:"Tous les administrateurs",confirm:"Confirmez votre mot de passe",delete:"Supprimer",email:"Email",editProfile:"Editer un profil",logout:"Se d\xe9connecter",noAdmin:"Aucun admin pour l'instant",password:"Mot de passe",teacher:"Enseignant",username:"Pseudo",saving:"Enregistrement",save:"Enregistrer",role:"R\xf4le",cancel:"Annuler",selectSex:"--- Selectionner le sexe de l'enseignant ----",m:"Masculin",comptable:"Comptable",f:"F\xe9minin",sex:"Sex de l'enseignant",teacherName:"Nom de l'enseignagnt :",teacherSubname:"Pr\xe9nom de l'ensignant :",allComp:"Tous les comptables",noComp:"Aucun comptable pour l'instant",selectRole:"S\xe9lectionnez un r\xf4le",number:"Num\xe9ro de t\xe9l\xe9phone de l'enseignant :"},fr:{add:"Ajouter",addAdmin:"Ajouter un administrateur",addind:"Ajout...",admin:"Administrateur",allAdmin:"Tous les administrateurs",confirm:"Confirmez votre mot de passe",delete:"Supprimer",selectRole:"S\xe9lectionnez un r\xf4le",email:"Email",editProfile:"Editer un profil",logout:"Se d\xe9connecter",allComp:"Tous les comptables",noComp:"Aucun comptable pour l'instant",noAdmin:"Aucun admin pour l'instant",password:"Mot de passe",teacher:"Enseignant",role:"R\xf4le",username:"Pseudo",saving:"Enregistrement",save:"Enregistrer",cancel:"Annuler",comptable:"Comptable",selectSex:"--- Selectionner le sexe de l'enseignant ----",m:"Masculin",f:"F\xe9minin",sex:"Sex de l'enseignant",teacherName:"Nom de l'enseignagnt :",teacherSubname:"Pr\xe9nom de l'ensignant :",number:"Num\xe9ro de t\xe9l\xe9phone de l'enseignant :"}},ue=[{name:ie[g()].admin,key:"ad"},{name:ie[g()].comptable,key:"comp"}];var me=function(e){var t=e.setError;return r.a.createElement("div",{className:"dL"},r.a.createElement("div",{className:"choices"},[{name:"Francais",code:"fr"},{name:"Anglais",code:"en"}].map(function(e){return r.a.createElement("div",{key:e.code,className:"choice ".concat(e.code===g()?"checked":""," "),id:"lang_choice",onClick:function(a){j(e.code,t)}},r.a.createElement("div",{className:"example"},r.a.createElement("img",{src:"../../assets/".concat(e.code,".png"),alt:"d"})),r.a.createElement("div",{className:"name"},e.name))})))},de=a(69);var fe=function(e){var t=e.setIsEditInfos,a=e.setError,s=Object(n.useState)(!1),c=Object(l.a)(s,2),o=c[0],i=c[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),E=f[0],b=f[1],h=Object(n.useState)({}),v=Object(l.a)(h,2),j=v[0],N=v[1],O=Object(n.useState)({password:"",confirm:""}),y=Object(l.a)(O,2),x=y[0],w=y[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,fetch(p+"/users/getTeacherOrAdmin",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,console.log(a),N(a),i(!1);case 10:case"end":return e.stop()}},e)}))()},[]);var _=function(e){var t=URL.createObjectURL(e.target.files[0]);T(t)},C=Object(n.useState)("assets/1.png"),A=Object(l.a)(C,2),k=A[0],T=A[1];return r.a.createElement("div",{className:"profileBox",style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",{className:"card",style:{width:"500px"}},r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),b(!0),j.password=x.password,j.confirm=x.confirm,fetch(p+"/users/edit",{method:"PUT",body:JSON.stringify(j),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():a(e.message)}),b(!1)}(e)}},"ad"===sessionStorage.stat||"comp"===sessionStorage.stat?r.a.createElement("div",{className:"card-content pro"},r.a.createElement("div",{className:"d"},r.a.createElement("div",{className:"img avatar-img"},r.a.createElement("img",{src:k,alt:"Asset"}),r.a.createElement("label",{htmlFor:"avatar",className:"changeAvatar"},r.a.createElement(de.a,null)),r.a.createElement("input",{type:"file",capture:"user",onChange:function(e){_(e)},accept:"image/*",style:{display:"none"},id:"avatar"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},ie[g()].username),r.a.createElement("input",{type:"text",value:j.username,onChange:function(e){N(function(t){return Object(S.a)({},t,{username:e.target.value})})},placeholder:ie[g()].username})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Noms et Prenoms"),r.a.createElement("input",{type:"text",value:j.email,onChange:function(e){N(function(t){return Object(S.a)({},t,{email:e.target.value})})},placeholder:ie[g()].email})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},ie[g()].password," "),r.a.createElement("input",{type:"password",value:x.password,onChange:function(e){w(function(t){return Object(S.a)({},t,{password:e.target.value})})},placeholder:ie[g()].password})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},ie[g()].confirm),r.a.createElement("input",{type:"password",value:x.confirm,onChange:function(e){w(function(t){return Object(S.a)({},t,{confirm:e.target.value})})},placeholder:ie[g()].confirm}))):r.a.createElement("div",{className:"card-content pro"},r.a.createElement("div",{className:"d"},r.a.createElement("div",{className:"img avatar-img"},r.a.createElement("img",{src:k,alt:"Asset"}),r.a.createElement("label",{htmlFor:"avatar",className:"changeAvatar"},r.a.createElement(de.a,null)),r.a.createElement("input",{type:"file",capture:"user",onChange:function(e){_(e)},accept:"image/*",style:{display:"none"},id:"avatar"}))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},ie[g()].teacherName),r.a.createElement("input",{type:"text",value:j.name,onChange:function(e){N(function(t){return Object(S.a)({},t,{name:e.target.value})})},placeholder:ie[g()].teacherName})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},ie[g()].teacherSubname),r.a.createElement("input",{type:"text",value:j.subname,onChange:function(e){N(function(t){return Object(S.a)({},t,{subname:e.target.value})})},placeholder:ie[g()].teacherSubname})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},ie[g()].number),r.a.createElement("input",{type:"tel",value:j.phone_number,onChange:function(e){N(function(t){return Object(S.a)({},t,{phone_number:e.target.value})})},placeholder:ie[g()].number})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},ie[g()].sex),r.a.createElement("select",{value:j.sex,onChange:function(e){N(function(t){return Object(S.a)({},t,{sex:e.target.value})})},className:"form-control"},r.a.createElement("option",{value:""},ie[g()].selectSex),r.a.createElement("option",{value:"m"},ie[g()].m),r.a.createElement("option",{value:"f"},ie[g()].f)))),r.a.createElement("div",{className:"foot"},r.a.createElement("button",{className:"btn btn-blue",type:"submit"},E?ie[g()].saving:ie[g()].save),r.a.createElement("button",{onClick:function(){t(function(e){return!e})}},ie[g()].cancel)))),o?"Chargement":"")};var Ee=function(e){var t=e.userInfos,a=e.setIsEditInfos,n=Object(i.f)(),s=function(){sessionStorage.removeItem("stat"),sessionStorage.removeItem("user"),n("/login"),window.location.reload()};return r.a.createElement(r.a.Fragment,null,"ad"===sessionStorage.stat||"comp"===sessionStorage.stat?r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"profileBox"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content pro"},r.a.createElement("div",{className:"d"},r.a.createElement("div",{className:"img"},r.a.createElement("img",{src:"assets/1.png",alt:"Asset"}))),r.a.createElement("h2",null,t.username),r.a.createElement("h5",null,t.email),r.a.createElement("h5",null,ie[g()].admin)),r.a.createElement("div",{className:"foot"},r.a.createElement("button",{className:"btn btn-blue",onClick:function(){a(function(e){return!e})}},ie[g()].editProfile),r.a.createElement("button",{onClick:function(){s()}},ie[g()].logout))))):r.a.createElement("div",{className:"pro",style:{width:"50%",marginLeft:"25%"}},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content pro"},r.a.createElement("div",{className:"d"},r.a.createElement("div",{className:"img"},r.a.createElement("img",{src:"assets/1.png",alt:"Asset"}))),r.a.createElement("h2",null,t.name+" "+t.subname),r.a.createElement("h5",null,t.matricule),r.a.createElement("h5",null,ie[g()].teacher)),r.a.createElement("div",{className:"foot"},r.a.createElement("button",{className:"btn btn-blue",onClick:function(){a(function(e){return!e})}},ie[g()].editProfile),r.a.createElement("button",{onClick:function(){s()}},ie[g()].logout)))))};var be=function(){var e=Object(n.useState)({username:"",email:"",password:"",confirm:"",role:"ad"}),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)([]),o=Object(l.a)(c,2),i=o[0],u=o[1],f=Object(n.useState)(""),E=Object(l.a)(f,2),b=E[0],h=E[1],v=Object(n.useState)(""),j=Object(l.a)(v,2),N=j[0],O=j[1],y=Object(n.useState)(!1),w=Object(l.a)(y,2),_=w[0],C=w[1],A=Object(n.useState)([]),k=Object(l.a)(A,2),T=k[0],z=k[1],I=Object(n.useState)(!1),q=Object(l.a)(I,2),L=q[0],F=q[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("ad"!==sessionStorage.stat){e.next=10;break}return C(!0),e.next=4,fetch(p+"/users/all",{headers:{Authorization:sessionStorage.user}});case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,u(a),C(!1);case 10:case"end":return e.stop()}},e)}))()},[]),Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,fetch(p+"/users/getTeacherOrAdmin/",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,z(a),C(!1);case 9:case"end":return e.stop()}},e)}))()},[]);var M=function(e){x.fire({title:"Confirmez la suppression !",icon:"question",text:"Cette action est irreversible !!"}).then(function(t){t.value&&fetch(p+"/users/"+e,{method:"DELETE",headers:{Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){console.log(e),e.success?window.location.reload():(console.log(e.message),h(e.message))})})};return r.a.createElement("div",{className:"container proCon"},""!==N?r.a.createElement("div",{className:"alert alert-success"},N):r.a.createElement(r.a.Fragment,null),"ad"===sessionStorage.stat?r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"addAdmin"},r.a.createElement("div",{className:"card "},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,ie[g()].addAdmin)),r.a.createElement("form",{onSubmit:function(e){!function(e){C(!0),e.preventDefault(),fetch(p+"/users/register",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?(O("Nouvel administrateur enregistre"),setTimeout(function(){O("")},5e3),window.location.reload()):(console.log(e.message),h(e.message))}),C(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},ie[g()].username),r.a.createElement("input",{type:"text",value:a.username,onChange:function(e){s(function(t){return Object(S.a)({},t,{username:e.target.value})})},placeholder:ie[g()].username})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},"Noms et Prenoms"),r.a.createElement("input",{type:"text",value:a.email,onChange:function(e){s(function(t){return Object(S.a)({},t,{email:e.target.value})})},placeholder:ie[g()].email})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},ie[g()].role),r.a.createElement("select",{value:a.role,className:"form-control",onChange:function(e){s(function(t){return Object(S.a)({},t,{role:e.target.value})})}},r.a.createElement("option",{value:""},ie[g()].selectRole),ue.map(function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.name)}))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},ie[g()].password," "),r.a.createElement("input",{type:"password",value:a.password,onChange:function(e){s(function(t){return Object(S.a)({},t,{password:e.target.value})})},placeholder:ie[g()].password})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},ie[g()].confirm),r.a.createElement("input",{type:"password",value:a.confirm,onChange:function(e){s(function(t){return Object(S.a)({},t,{confirm:e.target.value})})},placeholder:ie[g()].confirm})),""!==b?r.a.createElement("div",{className:"error"},b):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{type:"submit"},_?ie[g()].addind:ie[g()].add))))),r.a.createElement("div",{className:"profileBox"},L?r.a.createElement(fe,{setIsEditInfos:F,setError:h}):r.a.createElement(Ee,{userInfos:T,setIsEditInfos:F}),r.a.createElement("div",{className:"card d",style:{marginTop:"20px"}},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,ie[g()].allAdmin)),r.a.createElement("div",{className:"card-content"},i.filter(function(e){return"ad"===e.role}).length>0?i.filter(function(e){return"ad"===e.role}).map(function(e,t){return r.a.createElement("div",{className:"adminCard",key:t},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"img"},r.a.createElement("img",{src:"assets/1.png",alt:""})),r.a.createElement("div",{className:"about"},r.a.createElement("h1",null,e.username))),r.a.createElement("div",{className:"rigth"},r.a.createElement("button",{onClick:function(){M(e.id)},type:"submit"}," ",ie[g()].delete)))}):r.a.createElement("div",{className:"adminCard"},r.a.createElement("h3",null,ie[g()].noAdmin)))),r.a.createElement("div",{className:"card d",style:{marginTop:"20px"}},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,ie[g()].allComp)),r.a.createElement("div",{className:"card-content"},i.filter(function(e){return"comp"===e.role}).length>0?i.filter(function(e){return"comp"===e.role}).map(function(e,t){return r.a.createElement("div",{className:"adminCard",key:t},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"img"},r.a.createElement("img",{src:"assets/1.png",alt:""})),r.a.createElement("div",{className:"about"},r.a.createElement("h1",null,e.username))),r.a.createElement("div",{className:"rigth"},r.a.createElement("button",{onClick:function(){M(e.id)},type:"submit"}," ",ie[g()].delete)))}):r.a.createElement("div",{className:"adminCard"},r.a.createElement("h3",null,ie[g()].noComp)))))):L?r.a.createElement(fe,{setIsEditInfos:F,setError:h}):r.a.createElement(Ee,{userInfos:T,setIsEditInfos:F}),r.a.createElement(me,{setError:h}))},pe={en:{addSeq:"Ajouter une s\xe9quence",editSeq:"Editer une s\xe9quence",seqName:"Nom de la s\xe9quence",section:"Section",selectSection:"--- Selectionner la section ----",fr:"Francophone",en:"Anglophone",mat:"Maternelle",close:"Fermer (Annuler)",save:"Enregistrer",saving:"Enregistrement...",seq:"S\xe9quence",delete:"Supprimer",deleting:"Suppression",nohavecom:"Aucune comp\xe9tence pour l'instant",doyou:"Voulez-vous en",add:" ajouter ?",edit:"Editer ",noSeq:"Aucune sequence effectuee pour l'instant. Attendez que l'admin en cree.",enterData:"Entrer les donn\xe9es",name:"Nom",action:"Actions",editCom:"Editer une competence",competence:"Compentece",order:"Classer",noCom:"Aucune competence",essential:"Essentiel",total:"Total",average:"Moyenne",totalOfPoints:"Total des points",rank:"Rang",seeBul:"Voir le bulletin",noStudent:"Aucun \xe9l\xe8ve dans cette classe",downloadBul:"T\xe9l\xe9charger le bulletin",downloadBuls:"T\xe9l\xe9charger le bulletins",importNotes:"Importer les notes"},fr:{addSeq:"Ajouter une s\xe9quence",editSeq:"Editer une s\xe9quence",seqName:"Nom de la s\xe9quence",section:"Section",selectSection:"--- Selectionner la section ----",fr:"Francophone",en:"Anglophone",mat:"Maternelle",close:"Fermer (Annuler)",save:"Enregistrer",saving:"Enregistrement...",seq:"S\xe9quence",delete:"Supprimer",deleting:"Suppression",nohavecom:"Aucune comp\xe9tence pour l'instant",doyou:"Voulez-vous en",add:" ajouter ?",edit:"Editer ",noSeq:"Aucune sequence effectuee pour l'instant. Attendez que l'admin en cree.",enterData:"Entrer les donn\xe9es",name:"Nom",action:"Actions",editCom:"Editer une competence",competence:"Compentece",downloadBuls:"T\xe9l\xe9charger les bulletins",order:"Classer",noCom:"Aucune competence",essential:"Essentiel",total:"Total",average:"Moyenne",totalOfPoints:"Total des points",rank:"Rang",seeBul:"Voir le bulletin",noStudent:"Aucun \xe9l\xe8ve dans cette classe",downloadBul:"T\xe9l\xe9charger le bulletin",importNotes:"Importer les notes"}},he=function(e){var t=e.type,a=Object(n.useState)([]),s=Object(l.a)(a,2),c=s[0],u=s[1],f=Object(n.useState)([]),E=Object(l.a)(f,2),b=E[0],h=E[1],v=Object(n.useState)({}),g=Object(l.a)(v,2),j=g[0],S=g[1],N=Object(n.useState)({}),O=Object(l.a)(N,2),y=O[0],x=O[1],w=Object(n.useState)(0),_=Object(l.a)(w,2),C=_[0],A=_[1],k=Object(n.useState)(!1),T=Object(l.a)(k,2),z=T[0],I=T[1],q=Object(i.g)(),L=q.exam_id,F=q.class_id,M=Object(n.useState)({}),D=Object(l.a)(M,2),P=D[0],V=D[1],R=Object(n.useState)(""),B=Object(l.a)(R,2),J=B[0],U=B[1],H=Object(n.useRef)();Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var a,n,r,s,c,l,o,i,d,f,E;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,fetch(p+"/students/"+F,{headers:{Authorization:sessionStorage.user}});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.next=9,fetch(p+"/annuals/"+L,{headers:{Authorization:sessionStorage.user}});case 9:return r=e.sent,e.next=12,r.json();case 12:return s=e.sent,console.log(s),e.next=16,fetch(p+"/class/"+F,{headers:{Authorization:sessionStorage.user}});case 16:return c=e.sent,e.next=19,c.json();case 19:return l=e.sent,e.next=22,fetch(p+"/subjects/all2/"+t,{headers:{Authorization:sessionStorage.user}});case 22:return o=e.sent,e.next=25,o.json();case 25:return i=e.sent,e.next=28,fetch(p+"/notes/all/"+F+"/"+L,{headers:{Authorization:sessionStorage.user}});case 28:return d=e.sent,e.next=31,d.json();case 31:f=e.sent,E=0,i.forEach(function(e){E+=e.over}),A(E),u(n),x(s),S(l),h(i),V(f),I(!1);case 41:case"end":return e.stop()}},e)}))()},[]);return r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg",style:{padding:"10px"}},r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav",style:{fontSize:"1.3rem",display:"flex",justifyContent:"space-between"}},r.a.createElement("h2",{style:{marginLeft:"40px"}},y.name," : ",j.name),r.a.createElement("a",{href:p+"/download/pdf/bul-an/".concat(j.year,"/")+F+"/"+L,target:"_blank",className:"btn btn-success"},pe.fr.downloadBuls),r.a.createElement("button",{onClick:function(){!function(){var e={exam_id:L,class_id:F};fetch(p+"/notes/calTrimNotes",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():U(e.message)})}()},style:{marginLeft:"10px"},className:"btn btn-primary"},"Calculer les notes"),r.a.createElement(o.b,{to:"/promotion/".concat(L,"/").concat(F,"/").concat(t),className:"btn btn-primary",style:{marginLeft:"10px"}},"Promotion")))),""===J?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{style:{marginTop:"30px"},className:"alert alert-danger"},J),r.a.createElement("table",{style:{textAlign:"center"},ref:H,id:"bulT",className:"table table-bordered table-striped table-light text-align-center"},r.a.createElement("thead",{style:{color:"#000",fontSize:"1rem",fontWeight:"500"}},r.a.createElement("tr",{className:"table-dark"},r.a.createElement("th",{rowSpan:3,width:"20"},"N"),r.a.createElement("th",{rowSpan:3},pe.fr.name),r.a.createElement("th",{colSpan:b.length},"Matieres"),r.a.createElement("th",{colSpan:2},pe.fr.essential),r.a.createElement("th",{colSpan:1,rowSpan:2},pe.fr.action)),r.a.createElement("tr",null,b.length>0?b.map(function(e,t){return r.a.createElement("th",{key:t},e.name," / ",e.over)}):r.a.createElement(r.a.Fragment,null,pe.fr.noCom),r.a.createElement("th",null,pe.fr.totalOfPoints),r.a.createElement("th",null,pe.fr.average))),r.a.createElement("tbody",null,P.length>0?c.length>0?c.map(function(e,t){var a=z?{}:P.filter(function(t){return t.student_id===e.id.toString()}),n=0;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name," ",e.subname),b.map(function(e,t){var s=a.filter(function(t){return t.subject_id===e.id.toString()}).length>0?parseFloat(a.filter(function(t){return t.subject_id===e.id.toString()})[0].value):0;return n+=s,r.a.createElement("td",{key:t},r.a.createElement("span",null,s))}),r.a.createElement("td",null," ".concat(n," / ").concat(C)),r.a.createElement("td",null,z?"0":"".concat(Math.round(n/C*20*100)/100," / 20")),r.a.createElement("td",null,r.a.createElement(o.b,{to:"".concat(e.id),className:"btn btn-primary"},pe.fr.seeBul),r.a.createElement("a",{target:"_blank",href:"".concat(p,"/download/pdf/bul-an/").concat(j.year,"/").concat(F,"/").concat(e.id,"/").concat(L),className:"btn btn-success",style:{marginLeft:"10px"}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-file-earmark-arrow-down-fill",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zm-1 4v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 11.293V7.5a.5.5 0 0 1 1 0z"})))))}):r.a.createElement("tr",{className:"table-light"},r.a.createElement("td",{colSpan:144},pe.fr.noStudent)):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:40},"Veuillez calculer les notes avant de continuer.")))),z?"studentsPoints":"")};var ve=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(!1),i=Object(l.a)(c,2),u=i[0],f=i[1];return Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,fetch(p+"/annuals/all",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,s(a),f(!1);case 9:case"end":return e.stop()}},e)}))()},[]),r.a.createElement("div",{className:"container",style:{paddingTop:"20px"}},r.a.createElement("table",{className:"table table-dark table-bordered table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,pe[g()].name),r.a.createElement("th",null,pe[g()].action))),r.a.createElement("tbody",null,u?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:5,style:{justifyItems:"center",paddingLeft:"50%"}},r.a.createElement(E.a,{color:"#fff",type:"cylon"}))):a.length>0?a.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement(o.b,{style:{textDecoration:"none",color:"#fff"},to:"/annuals".concat(sessionStorage.classType,"/").concat(e.id,"/").concat(sessionStorage.classId)},pe[g()].enterData)))}):r.a.createElement("tr",null," ",r.a.createElement("td",{colSpan:5,style:{textAlign:"center"}},pe[g()].noSeq)," "))))},ge={en:{addTrim:"Ajouter une trimestre",trimName:"Nom du trimestre",addSeq:"Veuillez ajouter des sequences pour continuer",selectSeq:"Selectionner les s\xe9quences",close:"Fermer (Annuler)",save:"Enregistrer",saving:"Enregistrement...",trim:"Trimestre",seeData:"Voir les donn\xe9es",delete:"Supprimer",deleting:"Suppression",nohavetrim:"Aucun trimestre effectu\xe9 pour l'instant! Attendez que l'admin en rajoute.",name:"Nom",action:"Actions",competence:"Compentece",downloadBuls:"T\xe9l\xe9charger les bulletins",order:"Classer",noCom:"Aucune competence",essential:"Essentiel",total:"Total",average:"Moyenne",totalOfPoints:"Total des points",rank:"Rang",seeBul:"Voir le bulletin",noStudent:"Aucun \xe9l\xe8ve dans cette classe",downloadBul:"T\xe9l\xe9charger le bulletin"},fr:{addTrim:"Ajouter une trimestre",trimName:"Nom du trimestre",addSeq:"Veuillez ajouter des sequences pour continuer",selectSeq:"Selectionner les s\xe9quences",close:"Fermer (Annuler)",save:"Enregistrer",saving:"Enregistrement...",trim:"Trimestre",seeData:"Voir les donn\xe9es",delete:"Supprimer",deleting:"Suppression",nohavetrim:"Aucun trimestre effectu\xe9 pour l'instant! Attendez que l'admin en rajoute.",name:"Nom",action:"Actions",competence:"Compentece",downloadBuls:"T\xe9l\xe9charger les bulletins",order:"Classer",noCom:"Aucune competence",essential:"Essentiel",total:"Total",average:"Moyenne",totalOfPoints:"Total des points",rank:"Rang",seeBul:"Voir le bulletin",noStudent:"Aucun \xe9l\xe8ve dans cette classe",downloadBul:"T\xe9l\xe9charger le bulletin"}},je=function(e){var t=e.error,a=e.setError,s=e.setIsTrim,c=Object(n.useState)({name:""}),o=Object(l.a)(c,2),i=o[0],u=o[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),f=d[0],E=d[1];return r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,ge[g()].addTrim)),r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),E(!0),fetch(p+"/trim/add",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():a(e.message)}).catch(function(e){return a("Erreur: ".concat(e))}),E(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},ge[g()].trimName),r.a.createElement("input",{type:"text",value:i.name,onChange:function(e){u(function(t){return Object(S.a)({},t,{name:e.target.value})})},placeholder:ge[g()].addTrim})),""!==t?r.a.createElement("div",{className:"error"},t):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn btn-blue",type:"submit"},f?ge[g()].saving:ge[g()].save),r.a.createElement("button",{onClick:function(){s(!1),a("")},type:"reset"}," ",ge[g()].close," "))))},Se=function(e){var t=e.setIsAddStudent,a=e.error,s=e.setError,c=Object(i.g)().id,o=Object(n.useState)({name:"",subname:"",birthday:"",sex:"m",email:"",phone_number:"",status:"new",fatherName:"",profession:"",birthday_place:""}),u=Object(l.a)(o,2),f=u[0],E=u[1],b=Object(n.useState)({}),h=Object(l.a)(b,2),v=h[0],j=h[1],N=Object(n.useState)(!1),O=Object(l.a)(N,2),y=O[0],x=O[1],w=Object(i.f)();Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,fetch(p+"/class/"+c,{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,j(a),x(!1);case 9:case"end":return e.stop()}},e)}))()},[c]);return r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,Z[g()].addStudent," ",v.name)),r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),x(!0),fetch(p+"/students/add/"+c,{method:"POST",body:JSON.stringify(f),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?"ad"===sessionStorage.stat?window.location.reload():w("/reduct-fees/".concat(e.id)):s(e.message)}),x(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].studentName," ",r.a.createElement("span",{className:"text-danger"},"*")," "),r.a.createElement("input",{type:"text",value:f.name,onChange:function(e){E(function(t){return Object(S.a)({},t,{name:e.target.value})})},placeholder:Z[g()].studentName})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].studentSubname),r.a.createElement("input",{type:"text",value:f.subname,onChange:function(e){E(function(t){return Object(S.a)({},t,{subname:e.target.value})})},placeholder:Z[g()].studentSubname})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].birthday),r.a.createElement("input",{type:"date",value:f.birthday,onChange:function(e){E(function(t){return Object(S.a)({},t,{birthday:e.target.value})})},placeholder:Z[g()].birthday})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].birthday_place),r.a.createElement("input",{type:"text",value:f.birthday_place,onChange:function(e){E(function(t){return Object(S.a)({},t,{birthday_place:e.target.value})})},placeholder:Z[g()].birthday_place})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].sex),r.a.createElement("select",{value:f.sex,onChange:function(e){E(function(t){return Object(S.a)({},t,{sex:e.target.value})})},className:"form-control form-control-lg"},r.a.createElement("option",{value:""},Z[g()].selectSex),r.a.createElement("option",{value:"m"},Z[g()].m),r.a.createElement("option",{value:"f"},Z[g()].f))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].fatherName," ",r.a.createElement("span",{className:"text-danger"},"*")," "),r.a.createElement("input",{type:"tel",value:f.fatherName,onChange:function(e){E(function(t){return Object(S.a)({},t,{fatherName:e.target.value})})},placeholder:Z[g()].fatherName})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].fatherNumber),r.a.createElement("input",{type:"tel",value:f.phone_number,onChange:function(e){E(function(t){return Object(S.a)({},t,{phone_number:e.target.value})})},placeholder:Z[g()].fatherNumber})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].fatherEmail),r.a.createElement("input",{type:"email",value:f.email,onChange:function(e){E(function(t){return Object(S.a)({},t,{email:e.target.value})})},placeholder:Z[g()].fatherEmail})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].fatherProfession),r.a.createElement("input",{type:"tel",value:f.profession,onChange:function(e){E(function(t){return Object(S.a)({},t,{profession:e.target.value})})},placeholder:Z[g()].fatherProfession})),r.a.createElement("div",{className:"field check ",style:{display:"flex"}},r.a.createElement("label",{className:"label ".concat("new"===f.status?"checked":""),htmlFor:"check"},Z[g()].newStudent),r.a.createElement("input",{type:"checkbox",checked:"new"===f.status,onChange:function(e){E(function(e){return Object(S.a)({},e,{status:"new"===f.status?"old":"new"})})},id:"check"})),""!==a?r.a.createElement("div",{className:"error"},a):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn btn-blue",type:"submit"},y?Z[g()].saving:Z[g()].save),r.a.createElement("button",{onClick:function(){t(!1),s("")},type:"reset"}," ",Z[g()].close))))},Ne=function(e){var t=e.error,a=e.setError,s=e.setIsAnnualExam,c=Object(n.useState)({name:""}),o=Object(l.a)(c,2),i=o[0],u=o[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),f=d[0],E=d[1];return r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,Z[g()].addAnnualExam)),r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),E(!0),fetch(p+"/annuals/add",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():a(e.message)}).catch(function(e){return a("Erreur: ".concat(e))}),E(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].examName),r.a.createElement("input",{type:"text",value:i.name,onChange:function(e){u(function(t){return Object(S.a)({},t,{name:e.target.value})})},placeholder:"Examen annuel"})),""!==t?r.a.createElement("div",{className:"error"},t):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn btn-blue",type:"submit"},f?Z[g()].saving:Z[g()].save),r.a.createElement("button",{onClick:function(){s(!1),a("")},type:"reset"}," ",Z[g()].close," "))))},Oe=function(e){var t=e.error,a=e.setError,s=e.setIsEditAnnualExam,c=e.id,o=Object(n.useState)({}),i=Object(l.a)(o,2),u=i[0],f=i[1],E=Object(n.useState)(!1),b=Object(l.a)(E,2),h=b[0],v=b[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,fetch(p+"/annuals/"+c,{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,f(a),v(!1);case 9:case"end":return e.stop()}},e)}))()},[]);return r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,Z[g()].addAnnualExam)),r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),v(!0),fetch(p+"/annuals/"+c,{method:"PUT",body:JSON.stringify(u),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():a(e.message)}).catch(function(e){return a("Erreur: ".concat(e))}),v(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},Z[g()].examName),r.a.createElement("input",{type:"text",value:u.name,onChange:function(e){f(function(t){return Object(S.a)({},t,{name:e.target.value})})},placeholder:Z[g()].addTrim})),""!==t?r.a.createElement("div",{className:"error"},t):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn btn-blue",type:"submit"},h?Z[g()].saving:Z[g()].save),r.a.createElement("button",{onClick:function(){s(!1),a("")},type:"reset"}," ",Z[g()].close," "))))},ye=function(e){var t=e.error,a=e.setError,s=e.setIsEditTrim,c=e.id,o=Object(n.useState)({}),i=Object(l.a)(o,2),u=i[0],f=i[1],E=Object(n.useState)(!1),b=Object(l.a)(E,2),h=b[0],v=b[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,fetch(p+"/trim/"+c,{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,f(a),v(!1);case 9:case"end":return e.stop()}},e)}))()},[]);return r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,ge[g()].addTrim)),r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),v(!0),fetch(p+"/trim/"+c,{method:"PUT",body:JSON.stringify(u),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():a(e.message)}).catch(function(e){return a("Erreur: ".concat(e))}),v(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},ge[g()].trimName),r.a.createElement("input",{type:"text",value:u.name,onChange:function(e){f(function(t){return Object(S.a)({},t,{name:e.target.value})})},placeholder:ge[g()].addTrim})),""!==t?r.a.createElement("div",{className:"error"},t):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn btn-blue",type:"submit"},h?ge[g()].saving:ge[g()].save),r.a.createElement("button",{onClick:function(){s(!1),a("")},type:"reset"}," ",ge[g()].close," "))))},xe=function(){var e=Object(i.g)().id,t=Object(n.useState)({}),a=Object(l.a)(t,2),s=a[0],c=a[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),b=f[0],h=f[1],v=Object(n.useState)({}),j=Object(l.a)(v,2),S=j[0],N=j[1],y=Object(n.useState)({}),w=Object(l.a)(y,2),_=w[0],C=w[1],A=Object(n.useState)({}),k=Object(l.a)(A,2),T=k[0],z=k[1],q=Object(n.useState)(!1),L=Object(l.a)(q,2),F=L[0],M=L[1],D=Object(n.useState)(""),P=Object(l.a)(D,2),V=P[0],R=P[1],B=Object(n.useState)(!1),J=Object(l.a)(B,2),U=J[0],H=J[1],Y=Object(n.useState)(!1),W=Object(l.a)(Y,2),Q=W[0],X=W[1],K=Object(n.useState)(!1),$=Object(l.a)(K,2),ee=$[0],te=$[1],ae=Object(n.useState)(""),ne=Object(l.a)(ae,2),re=ne[0],se=ne[1],ce=Object(n.useState)(!1),le=Object(l.a)(ce,2),oe=le[0],ie=le[1],ue=Object(n.useState)(!1),me=Object(l.a)(ue,2),de=me[0],fe=me[1],Ee=Object(n.useState)(!1),be=Object(l.a)(Ee,2),pe=be[0],he=be[1],ve=Object(n.useState)(""),ge=Object(l.a)(ve,2),xe=ge[0],we=ge[1],_e=Object(n.useState)(!1),Ce=Object(l.a)(_e,2),Ae=Ce[0],ke=Ce[1],Te=Object(n.useState)(""),ze=Object(l.a)(Te,2),Ie=ze[0],qe=ze[1],Le=["Incorrect","Janvier","Fevrier","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Decembre"];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function t(){var a,n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return M(!0),t.next=3,fetch(p+"/class/"+e,{headers:{Authorization:sessionStorage.user}});case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,c(n),M(!1);case 9:case"end":return t.stop()}},t)}))()},[e]),Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function t(){var a,n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return M(!0),t.next=3,fetch(p+"/students/"+e,{headers:{Authorization:sessionStorage.user}});case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,z(n),M(!1);case 9:case"end":return t.stop()}},t)}))()},[e]),Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,fetch(p+"/trim/getAll",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,N(a),M(!1);case 9:case"end":return e.stop()}},e)}))()},[]),Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,fetch(p+"/annuals/all",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,C(a),M(!1);case 9:case"end":return e.stop()}},e)}))()},[]);var Fe=function(){var t=Object(d.a)(m.a.mark(function t(){var a,n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return M(!0),t.next=3,fetch(p+"/students/getOrdonnedStudents/"+e,{headers:{Authorization:sessionStorage.user}});case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,z(n),M(!1);case 9:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{style:{padding:"10px 10px"},className:"container"},"ad"===sessionStorage.stat?r.a.createElement(r.a.Fragment,null,b?r.a.createElement("button",{onClick:function(){h(function(e){return!e})},className:"btn btn-primary",style:{marginBottom:"10px"}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-menu-down",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M7.646.146a.5.5 0 0 1 .708 0L10.207 2H14a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h3.793L7.646.146zM1 7v3h14V7H1zm14-1V4a1 1 0 0 0-1-1h-3.793a1 1 0 0 1-.707-.293L8 1.207l-1.5 1.5A1 1 0 0 1 5.793 3H2a1 1 0 0 0-1 1v2h14zm0 5H1v2a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2zM2 4.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5zm0 4a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0 4a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"}))," Evaluations"):r.a.createElement("button",{onClick:function(){h(function(e){return!e})},className:"btn btn-primary",style:{marginBottom:"10px"}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-menu-up",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M7.646 15.854a.5.5 0 0 0 .708 0L10.207 14H14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h3.793l1.853 1.854zM1 9V6h14v3H1zm14 1v2a1 1 0 0 1-1 1h-3.793a1 1 0 0 0-.707.293l-1.5 1.5-1.5-1.5A1 1 0 0 0 5.793 13H2a1 1 0 0 1-1-1v-2h14zm0-5H1V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v2zM2 11.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 0-1h-8a.5.5 0 0 0-.5.5zm0-4a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 0-1h-11a.5.5 0 0 0-.5.5zm0-4a.5.5 0 0 0 .5.5h6a.5.5 0 0 0 0-1h-6a.5.5 0 0 0-.5.5z"}))," Evaluations"),r.a.createElement(o.b,{to:"/transfert/".concat(e),className:"btn btn-primary",style:{marginBottom:"10px",marginLeft:"10px"}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-airplane-engines-fill",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M8 0c-.787 0-1.292.592-1.572 1.151A4.347 4.347 0 0 0 6 3v3.691l-2 1V7.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.191l-1.17.585A1.5 1.5 0 0 0 0 10.618V12a.5.5 0 0 0 .582.493l1.631-.272.313.937a.5.5 0 0 0 .948 0l.405-1.214 2.21-.369.375 2.253-1.318 1.318A.5.5 0 0 0 5.5 16h5a.5.5 0 0 0 .354-.854l-1.318-1.318.375-2.253 2.21.369.405 1.214a.5.5 0 0 0 .948 0l.313-.937 1.63.272A.5.5 0 0 0 16 12v-1.382a1.5 1.5 0 0 0-.83-1.342L14 8.691V7.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v.191l-2-1V3c0-.568-.14-1.271-.428-1.849C9.292.591 8.787 0 8 0Z"})),"Transfert"),b?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("button",{onClick:function(){X(function(e){return!e})},className:"btn btn-blue"},Z[g()].addTrim)),r.a.createElement("table",{className:"table table-dark table-bordered table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,Z[g()].name),r.a.createElement("th",null,Z[g()].specialTrim),r.a.createElement("th",null,Z[g()].action))),r.a.createElement("tbody",null,F?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:5,style:{justifyItems:"center",paddingLeft:"50%"}},r.a.createElement(E.a,{color:"#fff",type:"cylon"}))):S.length>0?S.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.name),r.a.createElement("td",null,r.a.createElement("a",{style:{textDecoration:"none",color:"#fff"},href:"/trims".concat(s.type,"/").concat(t.id,"/").concat(e)},Z[g()].seeData)),r.a.createElement("td",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("button",{className:"btn btn-warning",onClick:function(){se(t.id),te(function(e){return!e})}},"Editer"),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){var e;e=t.id,x.fire({title:"Confirmez la suppression !",icon:"question",text:"Cette action est irreversible !!"}).then(function(t){t.value&&(H(!0),fetch(p+"/trim/"+e,{method:"DELETE",headers:{Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():R(e.message)}),H(!1))})}}," ",U?Z[g()].deleting:Z[g()].delete," ")))}):r.a.createElement("tr",null," ",r.a.createElement("td",{colSpan:5,style:{textAlign:"center"}},Z[g()].noTrim," ",Z[g()].doYou," ",r.a.createElement("button",{onClick:function(){X(function(e){return!e})},className:"btn btn-blue"},Z[g()].add)," ?")," "))),r.a.createElement("hr",null),r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("button",{onClick:function(){fe(function(e){return!e})},className:"btn btn-blue"},Z[g()].addAnnualExam)),r.a.createElement("table",{className:"table table-dark table-bordered table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,Z[g()].name),r.a.createElement("th",null,Z[g()].specialAnnualExam),r.a.createElement("th",null,Z[g()].action))),r.a.createElement("tbody",null,F?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:5,style:{justifyItems:"center",paddingLeft:"50%"}},r.a.createElement(E.a,{color:"#fff",type:"cylon"}))):_.length>0?_.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.name),r.a.createElement("td",null,r.a.createElement("a",{style:{textDecoration:"none",color:"#fff"},href:"/annuals".concat(s.type,"/").concat(t.id,"/").concat(e)},Z[g()].seeData)),r.a.createElement("td",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("button",{className:"btn btn-warning",onClick:function(){we(t.id),he(function(e){return!e})}},"Editer"),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){var e;e=t.id,x.fire({title:"Confirmez la suppression !",icon:"question",text:"Cette action est irreversible !!"}).then(function(t){t.value&&(H(!0),fetch(p+"/annuals/"+e,{method:"DELETE",headers:{Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():R(e.message)}),H(!1))})}}," ",U?Z[g()].deleting:Z[g()].delete," ")))}):r.a.createElement("tr",null," ",r.a.createElement("td",{colSpan:5,style:{textAlign:"center"}},Z[g()].noAnnualExam," ",Z[g()].doYou," ",r.a.createElement("button",{onClick:function(){fe(function(e){return!e})},className:"btn btn-blue"},Z[g()].add)," ?")," "))),r.a.createElement("hr",null)):r.a.createElement(r.a.Fragment,null," ")):r.a.createElement(r.a.Fragment,null),r.a.createElement("nav",{className:"navbar navbar-expand-lg",style:{padding:"10px 10px",display:"flex",justifyContent:"space-between"}},r.a.createElement("h2",{style:{marginLeft:"40px"}},Z[g()].studentList," ",s.name),r.a.createElement("div",{style:{marginRight:"10px"},className:"nav item"},r.a.createElement("ul",{className:"navbar-nav",style:{fontSize:"1.3rem"}},"ad"===sessionStorage.stat?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){ie(function(e){return!e})},className:"btn btn-blue"},Z[g()].addStudent),r.a.createElement("label",{htmlFor:"csvFile",style:{marginLeft:"10px"},className:"btn btn-success"},Z[g()].importStudent),r.a.createElement("input",{type:"file",accept:".csv",id:"csvFile",style:{display:"none"},onChange:function(t){I(t,"/upload/students/csv/"+e,R)}})):r.a.createElement(r.a.Fragment,null),"ad"===sessionStorage.stat?r.a.createElement("button",{onClick:function(){Fe()},style:{marginLeft:"10px"},className:"btn btn-blue"},Z[g()].range):r.a.createElement(r.a.Fragment,null)))),r.a.createElement("nav",{className:" ",style:{padding:"10px 10px"}},r.a.createElement("div",{className:"colla",id:"navbarNav",style:{padding:"10px 10px",display:"flex",justifyContent:"space-between"}},r.a.createElement("a",{target:"_blank",rel:"noreferrer",href:p+"/download/csv/students/"+e,className:"btn btn-secondary"},Z[g()].downloadCsv),r.a.createElement("label",{htmlFor:"csvFile",style:{marginLeft:"10px"},className:"btn btn-primary"},"Modifier les eleves"),r.a.createElement("input",{type:"file",accept:".csv",id:"csvFile",style:{display:"none"},onChange:function(t){I(t,"/upload/students/csv/modify/"+e,R)}}),r.a.createElement("a",{target:"_blank",rel:"noreferrer",style:{marginLeft:"30px"},href:p+"/download/pdf/students/"+e,className:"btn btn-secondary"},Z[g()].downloadPdf))),r.a.createElement("table",{className:"table table-dark table-bordered table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,Z[g()].n," "),r.a.createElement("th",null,Z[g()].name),r.a.createElement("th",null,Z[g()].subname),r.a.createElement("th",null,Z[g()].s),r.a.createElement("th",null,Z[g()].b),r.a.createElement("th",null,Z[g()].class),"ad"===sessionStorage.stat?r.a.createElement("th",null,Z[g()].action):r.a.createElement(r.a.Fragment,null))),r.a.createElement("tbody",null,F?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:5,style:{justifyItems:"center",paddingLeft:"50%"}},r.a.createElement(E.a,{color:"#fff",type:"cylon"}))):T.length>0?T.map(function(e,t){var a;return a=e.birthday?new Date(e.birthday).getDate()+" "+Le[new Date(e.birthday).getMonth()+1]+" "+new Date(e.birthday).getUTCFullYear():"Aucune date de naissance",r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.subname),r.a.createElement("td",null,"m"===e.sex?Z[g()].m:Z[g()].f),r.a.createElement("td",null,a),r.a.createElement("td",null,s.name),"ad"===sessionStorage.stat?r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("button",{onClick:function(){qe(e.id),ke(function(e){return!e})},to:"/students/edit/".concat(e.id),className:"btn btn-warning"}," ",Z[g()].edit," "),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){var t;t=e.id,x.fire({title:"Confirmez la suppression !",icon:"question",text:"Cette action est irreversible !!"}).then(function(e){e.value&&(H(!0),fetch(p+"/students/"+t,{method:"DELETE",headers:{Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():R(e.message)}).catch(function(e){return R(e)}),H(!1))})}}," ",U?Z[g()].deleting:Z[g()].delete," "))):r.a.createElement(r.a.Fragment,null))}):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:7,style:{textAlign:"center"}}," ".concat(Z[g()].noStudent," ").concat(s.name," ").concat(Z[g()].now," ").concat(Z[g()].doYou)," ",r.a.createElement("button",{onClick:function(){ie(function(e){return!e})},className:"btn btn-blue"},Z[g()].add)," ?")))),r.a.createElement(O.a,{isOpen:Q},r.a.createElement(je,{error:V,setError:R,setIsTrim:X})),r.a.createElement(O.a,{isOpen:ee},r.a.createElement(ye,{error:V,setError:R,setIsEditTrim:te,id:re})),r.a.createElement(O.a,{isOpen:oe},r.a.createElement(Se,{error:V,setError:R,setIsAddStudent:ie})),r.a.createElement(O.a,{isOpen:Ae},r.a.createElement(G,{error:V,setError:R,studentToEditId:Ie,setIsEditStudent:ke})),r.a.createElement(O.a,{isOpen:de},r.a.createElement(Ne,{error:V,setError:R,setIsAnnualExam:fe})),r.a.createElement(O.a,{isOpen:pe},r.a.createElement(Oe,{error:V,setError:R,setIsEditAnnualExam:he,id:xe})))},we={en:{addSubject:"Ajouter une mati\xe8re",subjectName:"Nom de la mati\xe8re",section:"Section",selectSection:"--- Selectionner la section ----",fr:"Francophone",en:"Anglophone",mat:"Maternelle",slug:"Slug",slugName:"Slug de la mati\xe8re",type:"Type",close:"Fermer (Annuler)",save:"Enregistrer",saving:"Enregistrement...",subject:"Mati\xe8re",over:"Sur",visite:"Visiter",delete:"Supprimer",deleting:"Suppression",nohavesubject:"Aucune mati\xe8re pour l'instant",doyou:"Voulez-vous en",add:" ajouter ?",edit:"Editer ",selectCompetence:"--- S\xe9lectionner la comp\xe9tence ---",name:"Nom",action:"Actions",editSubject:"Editer une mati\xe8re",competence:"Competence",nohavesbject:"Aucune sous competence pour cette competence pour le moment. ",oral:"Orale",ecrit:"Ecrit",subjectOver:"Total de la matiere",savoirEtre:"Savoir \xcatre",pratic:"Pratique",addSubCom:"Ajouter une sous competence",select:"S\xe9lectionn\xe9",addCom:"Veuilez ajouter des competences pour continuer",subName:"Nom de la sous comp\xe9tence"},fr:{addSubject:"Ajouter une mati\xe8re",subjectName:"Nom de la mati\xe8re",section:"Section",selectSection:"--- Selectionner la section ----",addSubCom:"Ajouter une sous competence",fr:"Francophone",en:"Anglophone",mat:"Maternelle",slug:"Slug",slugName:"Slug de la mati\xe8re",type:"Type",close:"Fermer (Annuler)",save:"Enregistrer",saving:"Enregistrement...",nohavesbject:"Aucune sous competence pour cette competence pour le moment. ",subject:"Mati\xe8re",visite:"Visiter",subjectOver:"Total de la matiere",delete:"Supprimer",deleting:"Suppression",nohavesubject:"Aucune mati\xe8re pour l'instant",doyou:"Voulez-vous en",add:" ajouter ?",edit:"Editer ",selectCompetence:"--- S\xe9lectionner la comp\xe9tence ---",name:"Nom",action:"Actions",editSubject:"Editer une mati\xe8re",competence:"Compentece",over:"Sur",oral:"Orale",ecrit:"Ecrit",savoirEtre:"Savoir \xcatre",pratic:"Pratique",select:"S\xe9lectionn\xe9",addCom:"Veuilez ajouter des competences pour continuer",subName:"Nom de la sous comp\xe9tence"}},_e=function(e){var t=e.error,a=e.setError,s=e.setIsSeq,c=Object(n.useState)([]),o=Object(l.a)(c,2),i=o[0],u=o[1],f=Object(n.useState)(!1),E=Object(l.a)(f,2),b=E[0],h=E[1],v=Object(n.useState)({name:"",over:10,section:parseInt(sessionStorage.getItem("section_id"))}),j=Object(l.a)(v,2),N=j[0],O=j[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,fetch(p+"/sections/all",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,u(a),h(!1);case 9:case"end":return e.stop()}},e)}))()},[]);return r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,we[g()].addSubject)),r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),h(!0),fetch(p+"/subjects/add",{method:"POST",body:JSON.stringify(N),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():a(e.message)}).catch(function(e){return a("Erreur: ".concat(e))}),h(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},we[g()].subjectName),r.a.createElement("input",{type:"text",value:N.name,onChange:function(e){O(function(t){return Object(S.a)({},t,{name:e.target.value})})},placeholder:we[g()].subjectName})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},we[g()].over),r.a.createElement("input",{type:"number",min:0,value:N.over,onChange:function(e){O(function(t){return Object(S.a)({},t,{over:e.target.value})})},placeholder:we[g()].subjectOver})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},we[g()].section),r.a.createElement("select",{value:N.section,className:"form-control form-control-lg",onChange:function(e){O(function(t){return Object(S.a)({},t,{section:e.target.value})})},placeholder:"Enter password"},r.a.createElement("option",{value:""},"--- Selectionner la section ----"),i.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}))),""!==t?r.a.createElement("div",{className:"error"},t):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn btn-blue",type:"submit"},b?we[g()].saving:we[g()].save),r.a.createElement("button",{onClick:function(){s(!1),a("")},type:"reset"}," ",we[g()].close," "))))},Ce=function(e){var t=e.error,a=e.setError,s=e.setIsSeq,c=e.id,o=Object(n.useState)({}),i=Object(l.a)(o,2),u=i[0],f=i[1],E=Object(n.useState)(!1),b=Object(l.a)(E,2),h=b[0],v=b[1],j=Object(n.useState)([]),N=Object(l.a)(j,2),O=N[0],y=N[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,fetch(p+"/subjects/"+c,{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,f(a),v(!1);case 9:case"end":return e.stop()}},e)}))()},[]),Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,fetch(p+"/sections/all",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,y(a),v(!1);case 9:case"end":return e.stop()}},e)}))()},[]);return r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,we[g()].addSubject)),r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),v(!0),fetch(p+"/subjects/"+c,{method:"PUT",body:JSON.stringify(u),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():a(e.message)}).catch(function(e){return a("Erreur: ".concat(e))}),v(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},we[g()].subjectName),r.a.createElement("input",{type:"text",value:u.name,onChange:function(e){f(function(t){return Object(S.a)({},t,{name:e.target.value})})},placeholder:we[g()].subjectName})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},we[g()].over),r.a.createElement("input",{type:"text",value:u.over,onChange:function(e){f(function(t){return Object(S.a)({},t,{over:e.target.value})})},placeholder:we[g()].subjectOver})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},we[g()].section),r.a.createElement("select",{value:u.section,className:"form-control form-control-lg",onChange:function(e){f(function(t){return Object(S.a)({},t,{section:e.target.value})})},placeholder:"Enter password"},r.a.createElement("option",{value:""},"--- Selectionner la section ----"),O.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}))),""!==t?r.a.createElement("div",{className:"error"},t):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn btn-blue",type:"submit"},h?we[g()].saving:we[g()].save),r.a.createElement("button",{onClick:function(){s(!1),a("")},type:"reset"}," ",we[g()].close," "))))},Ae=function(){var e=Object(i.f)();"ad"!==sessionStorage.stat&&e("/students/"+sessionStorage.classId);var t=Object(n.useState)({}),a=Object(l.a)(t,2),s=a[0],c=a[1],o=Object(n.useState)(!1),u=Object(l.a)(o,2),f=u[0],b=u[1],h=Object(n.useState)(""),v=Object(l.a)(h,2),j=v[0],S=v[1],N=Object(n.useState)(!1),y=Object(l.a)(N,2),w=y[0],_=y[1],C=Object(n.useState)(!1),A=Object(l.a)(C,2),k=A[0],T=A[1],z=Object(n.useState)(""),I=Object(l.a)(z,2),q=I[0],L=I[1],F=Object(n.useState)(!1),M=Object(l.a)(F,2),D=M[0],P=M[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,fetch(p+"/subjects/all",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,c(a),b(!1);case 9:case"end":return e.stop()}},e)}))()},[]);return r.a.createElement("div",{style:{padding:"10px 10px"},className:"container"},r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("button",{onClick:function(){T(function(e){return!e})},className:"btn btn-blue"},we[g()].addSubject)),r.a.createElement("table",{className:"table table-dark table-bordered table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,we[g()].name),r.a.createElement("th",null,we[g()].type),r.a.createElement("th",null,we[g()].over),r.a.createElement("th",null,we[g()].action))),r.a.createElement("tbody",null,f?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:4,style:{justifyItems:"center",paddingLeft:"50%"}}," ",r.a.createElement("div",{className:"error",style:{position:"absolute",top:"39%",left:"53%"}},r.a.createElement(E.a,{color:"#fff",type:"spin"})))):s.length>0?s.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.section_name),r.a.createElement("td",null,e.over),r.a.createElement("td",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("button",{onClick:function(){L(e.id),P(function(e){return!e})},className:"btn btn-warning"}," ",we[g()].edit," "),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){var t;t=e.id,x.fire({title:"Confirmez la suppression !",icon:"question",text:"Cette action est irreversible !!"}).then(function(e){e.value&&(_(!0),fetch(p+"/subjects/"+t,{method:"DELETE",headers:{Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){console.log(e),e.success?window.location.reload():S(e.message)}),_(!1))})}}," ",w?"Suppression..":"Supprimer"," ")))}):r.a.createElement("tr",null," ",r.a.createElement("td",{colSpan:4,align:"center"}," ",we[g()].nohavesubject+" "+we[g()].doyou," ",r.a.createElement("button",{onClick:function(){T(function(e){return!e})},className:"btn btn-blue"}," ",we[g()].add," ")," ")," "))),r.a.createElement(O.a,{isOpen:k},r.a.createElement(_e,{error:j,setError:S,setIsSeq:T})),r.a.createElement(O.a,{isOpen:D},r.a.createElement(Ce,{error:j,setError:S,setIsSeq:P,id:q})))},ke=function(e){var t=e.type,a=Object(n.useState)([]),s=Object(l.a)(a,2),c=s[0],u=s[1],f=Object(n.useState)([]),E=Object(l.a)(f,2),b=E[0],h=E[1],v=Object(n.useState)({}),g=Object(l.a)(v,2),j=g[0],S=g[1],N=Object(n.useState)({}),O=Object(l.a)(N,2),y=O[0],x=O[1],w=Object(n.useState)(0),_=Object(l.a)(w,2),C=_[0],A=_[1],k=Object(n.useState)(!1),T=Object(l.a)(k,2),z=T[0],I=T[1],q=Object(i.g)(),L=q.exam_id,F=q.class_id,M=Object(n.useState)({}),D=Object(l.a)(M,2),P=D[0],V=D[1],R=Object(n.useState)(""),B=Object(l.a)(R,2),J=B[0],U=B[1],H=Object(n.useRef)();Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var a,n,r,s,c,l,o,i,d,f,E;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,fetch(p+"/students/"+F,{headers:{Authorization:sessionStorage.user}});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.next=9,fetch(p+"/annuals/"+L,{headers:{Authorization:sessionStorage.user}});case 9:return r=e.sent,e.next=12,r.json();case 12:return s=e.sent,console.log(s),e.next=16,fetch(p+"/class/"+F,{headers:{Authorization:sessionStorage.user}});case 16:return c=e.sent,e.next=19,c.json();case 19:return l=e.sent,e.next=22,fetch(p+"/subjects/all2/"+t,{headers:{Authorization:sessionStorage.user}});case 22:return o=e.sent,e.next=25,o.json();case 25:return i=e.sent,e.next=28,fetch(p+"/notes/all2/"+F+"/"+L,{headers:{Authorization:sessionStorage.user}});case 28:return d=e.sent,e.next=31,d.json();case 31:f=e.sent,E=0,i.forEach(function(e){E+=e.over}),A(E),u(n),x(s),S(l),h(i),V(f),I(!1);case 41:case"end":return e.stop()}},e)}))()},[]);return r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg",style:{padding:"10px"}},r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav",style:{fontSize:"1.3rem",display:"flex",justifyContent:"space-between"}},r.a.createElement("h2",{style:{marginLeft:"40px"}},y.name," : ",j.name),r.a.createElement("a",{href:p+"/download/pdf/bul-an2/".concat(j.year,"/")+F+"/"+L,target:"_blank",className:"btn btn-success"},pe.fr.downloadBuls),r.a.createElement("button",{onClick:function(){!function(){var e={exam_id:L,class_id:F};fetch(p+"/notes/calTrimNotes2",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():U(e.message)})}()},style:{marginLeft:"10px"},className:"btn btn-primary"},"Calculer les notes"),r.a.createElement(o.b,{to:"/promotion/".concat(L,"/").concat(F,"/").concat(t),className:"btn btn-primary",style:{marginLeft:"10px"}},"Promotion")))),""===J?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{style:{marginTop:"30px"},className:"alert alert-danger"},J),r.a.createElement("table",{style:{textAlign:"center"},ref:H,id:"bulT",className:"table table-bordered table-striped table-light text-align-center"},r.a.createElement("thead",{style:{color:"#000",fontSize:"1rem",fontWeight:"500"}},r.a.createElement("tr",{className:"table-dark"},r.a.createElement("th",{rowSpan:4,width:"20"},"N"),r.a.createElement("th",{rowSpan:4},pe.fr.name),r.a.createElement("th",{colSpan:3*b.length},"Matieres"),r.a.createElement("th",{rowSpan:3},pe.fr.action)),r.a.createElement("tr",null,b.length>0?b.map(function(e,t){return r.a.createElement("th",{colSpan:3,key:t},e.name)}):r.a.createElement(r.a.Fragment,null,pe.fr.noCom)),r.a.createElement("tr",null,b.length>0?b.map(function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("th",{key:t},"Devoir"),r.a.createElement("th",{key:t},"Compo"),r.a.createElement("th",{key:t},"Moyenne"))}):r.a.createElement(r.a.Fragment,null,pe.fr.noCom))),r.a.createElement("tbody",null,P.length>0?c.length>0?c.map(function(e,t){var a=z?{}:P.filter(function(t){return t.student_id===e.id.toString()});return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name," ",e.subname),b.map(function(e,t){var n=a.filter(function(t){return t.subject_id===e.id.toString()&&"devoir"===t.subject_type}).length>0?parseFloat(a.filter(function(t){return t.subject_id===e.id.toString()&&"devoir"===t.subject_type})[0].value):0,s=a.filter(function(t){return t.subject_id===e.id.toString()&&"compo"===t.subject_type}).length>0?parseFloat(a.filter(function(t){return t.subject_id===e.id.toString()&&"compo"===t.subject_type})[0].value):0,c=n+s;return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{key:t},n),r.a.createElement("td",{key:t},s),r.a.createElement("td",null,c/2))}),r.a.createElement("td",null,r.a.createElement(o.b,{to:"".concat(e.id),className:"btn btn-primary"},pe.fr.seeBul),r.a.createElement("a",{target:"_blank",href:"".concat(p,"/download/pdf/bul-an2/").concat(j.year,"/").concat(F,"/").concat(e.id,"/").concat(L),className:"btn btn-success",style:{marginLeft:"10px"}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-file-earmark-arrow-down-fill",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zm-1 4v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 11.293V7.5a.5.5 0 0 1 1 0z"})))))}):r.a.createElement("tr",{className:"table-light"},r.a.createElement("td",{colSpan:144},pe.fr.noStudent)):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:40},"Veuillez calculer les notes avant de continuer.")))),z?C:"")},Te=function(e){var t=e.type,a=Object(n.useState)([]),s=Object(l.a)(a,2),c=s[0],u=s[1],f=Object(n.useState)([]),E=Object(l.a)(f,2),b=E[0],h=E[1],v=Object(n.useState)({}),g=Object(l.a)(v,2),j=g[0],S=g[1],N=Object(n.useState)({}),O=Object(l.a)(N,2),y=O[0],x=O[1],w=Object(n.useState)(0),_=Object(l.a)(w,2),C=_[0],A=_[1],k=Object(n.useState)(!1),T=Object(l.a)(k,2),z=T[0],I=T[1],q=Object(i.g)(),L=q.exam_id,F=q.class_id,M=Object(n.useState)({}),D=Object(l.a)(M,2),P=D[0],V=D[1],R=Object(n.useState)(""),B=Object(l.a)(R,2),J=B[0],U=B[1],H=Object(n.useRef)();Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var a,n,r,s,c,l,o,i,d,f,E;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,fetch(p+"/students/"+F,{headers:{Authorization:sessionStorage.user}});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,console.log(n),e.next=10,fetch(p+"/trim/"+L,{headers:{Authorization:sessionStorage.user}});case 10:return r=e.sent,e.next=13,r.json();case 13:return s=e.sent,e.next=16,fetch(p+"/class/"+F,{headers:{Authorization:sessionStorage.user}});case 16:return c=e.sent,e.next=19,c.json();case 19:return l=e.sent,e.next=22,fetch(p+"/subjects/all2/"+t,{headers:{Authorization:sessionStorage.user}});case 22:return o=e.sent,e.next=25,o.json();case 25:return i=e.sent,e.next=28,fetch(p+"/notes/all/"+F+"/"+L,{headers:{Authorization:sessionStorage.user}});case 28:return d=e.sent,e.next=31,d.json();case 31:f=e.sent,E=0,i.forEach(function(e){E+=e.over}),A(E),u(n),x(s),S(l),h(i),V(f),I(!1);case 41:case"end":return e.stop()}},e)}))()},[]);return r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg",style:{padding:"10px"}},r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav",style:{fontSize:"1.3rem",display:"flex",justifyContent:"space-between"}},r.a.createElement("h2",{style:{marginLeft:"40px"}},y.name," : ",j.name),r.a.createElement("a",{href:p+"/download/pdf/bul/".concat(j.year,"/")+F+"/"+L,target:"_blank",className:"btn btn-success"},pe.fr.downloadBuls)))),""===J?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{style:{marginTop:"30px"},className:"alert alert-danger"},J),r.a.createElement("table",{style:{textAlign:"center"},ref:H,id:"bulT",className:"table table-bordered table-striped table-light text-align-center"},r.a.createElement("thead",{style:{color:"#000",fontSize:"1rem",fontWeight:"500"}},r.a.createElement("tr",{className:"table-dark"},r.a.createElement("th",{rowSpan:3,width:"20"},"N"),r.a.createElement("th",{rowSpan:3},pe.fr.name),r.a.createElement("th",{colSpan:b.length},"Matieres"),r.a.createElement("th",{colSpan:2},pe.fr.essential),r.a.createElement("th",{colSpan:1,rowSpan:2},pe.fr.action)),r.a.createElement("tr",null,b.length>0?b.map(function(e,t){return r.a.createElement("th",{key:t},e.name," / ",e.over)}):r.a.createElement(r.a.Fragment,null,pe.fr.noCom),r.a.createElement("th",null,pe.fr.totalOfPoints),r.a.createElement("th",null,pe.fr.average))),r.a.createElement("tbody",null,c.length>0?c.map(function(e,t){var a=z?{}:P.filter(function(t){return t.student_id===e.id.toString()}),n=0;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name," ",e.subname),b.map(function(t,s){var c=a.filter(function(e){return e.subject_id===t.id.toString()}).length>0?parseFloat(a.filter(function(e){return e.subject_id===t.id.toString()})[0].value):0;return n+=c,r.a.createElement("td",{key:s},r.a.createElement("input",{style:{width:"50px"},type:"number",defaultValue:c,onChange:function(a){!function(e,t,a){var n={value:e,student_id:t,subject_id:a,exam_id:L,class_id:F};fetch(p+"/notes/addOrUpdate",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success||U(e.message)})}(a.target.value,e.id,t.id)}}))}),r.a.createElement("td",null," ".concat(n," / ").concat(C)),r.a.createElement("td",null,z?"0":"".concat(Math.round(n/C*20*100)/100," / 20")),r.a.createElement("td",null,r.a.createElement(o.b,{to:"".concat(e.id),className:"btn btn-primary"},pe.fr.seeBul),r.a.createElement("a",{target:"_blank",href:"".concat(p,"/download/pdf/bul/").concat(j.year,"/").concat(F,"/").concat(e.id,"/").concat(L),className:"btn btn-success",style:{marginLeft:"10px"}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-file-earmark-arrow-down-fill",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zm-1 4v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 11.293V7.5a.5.5 0 0 1 1 0z"})))))}):r.a.createElement("tr",{className:"table-light"},r.a.createElement("td",{colSpan:144},pe.fr.noStudent)))),z?"studentsPoints":"")};var ze=function(e){var t=e.error,a=e.setSelectClass,s=e.setError,c=Object(n.useState)(!0),o=Object(l.a)(c,2),i=o[0],u=o[1],f=Object(n.useState)([]),E=Object(l.a)(f,2),b=E[0],h=E[1],v=Object(n.useState)([]),j=Object(l.a)(v,2),S=j[0],N=j[1],O=function(){s(""),a(!1)};return Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,fetch(p+"/class/getAll",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,h(a),N(a),u(!1);case 10:case"end":return e.stop()}},e)}))()},[]),r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,"Choisissez la classe destinataire"),r.a.createElement("span",{onClick:function(){O()},style:{cursor:"pointer"},className:"text-danger"},"X")),r.a.createElement("div",{className:"card-content"},r.a.createElement("input",{type:"search",className:"form-control",placeholder:"search",onChange:function(e){var t;t=e.target.value,h(S.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))},style:{marginBottom:"10px"}}),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",{className:"table-dark"},r.a.createElement("tr",null,r.a.createElement("td",null,"Nom de la classe"),r.a.createElement("td",null,"Action"))),r.a.createElement("tbody",{className:"table-ligth table-striped"},b.length>0?b.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement("a",{target:"_blank",rel:"noreferrer",href:p+"/download/pdf/insolvables/"+e.id+"/7/"+sessionStorage.user,style:{marginTop:"10px"},className:"btn btn-secondary"},"Etat")))}):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},"Aucune classe")))),""!==t?r.a.createElement("div",{className:"error"},t):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("p",null,i?"En cours d'exportation":""),r.a.createElement("button",{onClick:function(){O()},type:"reset"}," ",Z[g()].close)))};var Ie=function(){var e=Object(n.useState)(new Date),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(!1),o=Object(l.a)(c,2),i=o[0],u=o[1],m=Object(n.useState)(new Date),d=Object(l.a)(m,2),f=d[0],E=d[1],b=Object(n.useState)(""),h=Object(l.a)(b,2),v=h[0],g=h[1],j=Object(n.useState)(new Date),S=Object(l.a)(j,2),N=S[0],y=S[1];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{style:{margin:"10px 5px"}},r.a.createElement("a",{href:p+"/download/recette/1/"+a+"/0",className:"btn btn-primary"},"Recette Journaliere:"),r.a.createElement("span",{style:{fontSize:"20px",marginLeft:"10px"}},"choisir la date"),r.a.createElement("input",{type:"date",onChange:function(e){s(e.target.value)},style:{padding:"5px 10px",borderRadius:"10px",border:"none",marginLeft:"10px"}})),r.a.createElement("div",{style:{margin:"10px 5px"}},r.a.createElement("a",{href:p+"/download/recette/3/".concat(f,"/").concat(N),className:"btn btn-secondary"},r.a.createElement("span",null,"Recette Periodique")),r.a.createElement("span",{style:{fontSize:"20px",marginLeft:"10px"}},"De",r.a.createElement("input",{type:"date",onChange:function(e){E(e.target.value)},style:{padding:"5px 10px",borderRadius:"10px",border:"none",marginLeft:"10px"}})),r.a.createElement("span",{style:{fontSize:"20px",marginLeft:"10px"}},"A",r.a.createElement("input",{type:"date",onChange:function(e){y(e.target.value)},style:{padding:"5px 10px",borderRadius:"10px",border:"none",marginLeft:"10px"}}))),r.a.createElement("div",{style:{margin:"10px 5px"}},r.a.createElement("a",{href:p+"/download/recette/2/0/0",className:"btn btn-info"},r.a.createElement("span",null,"Recette Globale"))),r.a.createElement("div",{style:{margin:"10px 5px"}},r.a.createElement("button",{onClick:function(){u(function(e){return!e})},className:"btn btn-info"},r.a.createElement("span",null,"Etat Global"))),r.a.createElement(O.a,{isOpen:i},r.a.createElement(ze,{error:v,setError:g,setSelectClass:u})))},qe={en:{downloadBul:"T\xe9l\xe9charger le bulletin",com:"Comp\xe9tences",subCom:"Sous comp\xe9tences",unit:"Unit\xe9 d'apprentissage",eval:"Evaluations",over:"Sur",notes:"Notes",noCom:"Aucune competence",total:"Total",help:"COTES : NA = Non Acquis, ECA = En Cours d\u2019Acquisition, A = Acquis, A+ = Expert",totalPoints:"Total des points",cote:"C\xf4tes",classConseil:"Conseil de classe",average:"Moyenne",avert:"Avertissement conduite",yes:"Oui",no:"Non",encou:"Encouragement",rank:"Rang",worlAvertissement:"Avertissement travail",firstAverage:"Moyenne du premier",lastAverage:"Moyenne du dernier",honorRoll:"Tableau d'honneur",observation:"Observation de l'enseignant",visa:"Visa du parent",chefVisa:"Visa du chef d'\xe9tablissement",effort:"Des efforts s'imposent en :",class:"Classe",teacher:"Enseignant",sex:"Sexe",birthday:"Date de naissance",nameAndSubname:"Noms et Pr\xe9noms",evalB:"BULLETIN D'EVALUATION"},fr:{downloadBul:"T\xe9l\xe9charger le bulletin",com:"Comp\xe9tences",subCom:"Sous comp\xe9tences",unit:"Unit\xe9 d'apprentissage",eval:"Evaluations",over:"Sur",notes:"Notes",noCom:"Aucune competence",total:"Total",help:"COTES : NA = Non Acquis, ECA = En Cours d\u2019Acquisition, A = Acquis, A+ = Expert",totalPoints:"Total des points",cote:"C\xf4tes",classConseil:"Conseil de classe",average:"Moyenne",avert:"Avertissement conduite",yes:"Oui",no:"Non",encou:"Encouragement",rank:"Rang",worlAvertissement:"Avertissement travail",firstAverage:"Moyenne du premier",lastAverage:"Moyenne du dernier",honorRoll:"Tableau d'honneur",observation:"Observation de l'enseignant",visa:"Visa du parent",chefVisa:"Visa du chef d'\xe9tablissement",effort:"Des efforts s'imposent en :",class:"Classe",teacher:"Enseignant",sex:"Sexe",birthday:"Date de naissance",nameAndSubname:"Noms et Pr\xe9noms",evalB:"BULLETIN D'EVALUATION"}},Le=function(e){var t=e.student,a=e.currentClass,n=e.actualExam,s=new Date(t.birthday).getDate()+" "+["Incorrect","Janvier","Fevrier","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Decembre"][new Date(t.birthday).getMonth()]+" "+new Date(t.birthday).getUTCFullYear();return r.a.createElement("div",null,r.a.createElement("div",{class:"head"},r.a.createElement("div",{class:"header"},r.a.createElement("h2",null,"REPUBLIQUE DU TCHAD"),r.a.createElement("h4",null,"Unit\xe9 - Travail - Progr\xe8s"),r.a.createElement("h4",null,"***********"),r.a.createElement("h4",null,"MINISTERE DE L'ENSEIGNEMENT PRIMAIRE ET DE L'EDUCATION CIVIQUE"),r.a.createElement("h4",null,"INSPECTION PEDAGOGIQUE DE L'ENSEIGNEMENT PRIMAIRE DU 6",r.a.createElement("sup",null,"eme")," ARRONSIDESSEMENT")),r.a.createElement("div",{class:"body"},r.a.createElement("img",{src:se.a,alt:"logo"}),r.a.createElement("h3",null,"CARNET DE NOTES"),r.a.createElement("p",null,"ECOLE PRIVEE FRANCO - ANGLAISE ",r.a.createElement("br",null),'"Living Word Missions Chad"'))),r.a.createElement("h2",{style:{textAlign:"center"}},n.name," - 2021/2022"),r.a.createElement("div",null,r.a.createElement("table",{className:"table table-light table-bordered table-striped"},r.a.createElement("thead",{style:{textAlign:"center"}},r.a.createElement("tr",null,r.a.createElement("th",null,qe[g()].nameAndSubname),r.a.createElement("th",{colSpan:5},t.name," ",t.subname)),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:2},qe[g()].birthday),r.a.createElement("th",{colSpan:2},s),r.a.createElement("th",null,qe[g()].sex),r.a.createElement("th",null,"m"===t.sex?"Masculin":"Feminin")),r.a.createElement("tr",null,r.a.createElement("th",null,qe[g()].class),r.a.createElement("th",null,a.name),r.a.createElement("th",null,"Effectif"),r.a.createElement("th",null,a.total_students),r.a.createElement("th",null,qe[g()].teacher),r.a.createElement("th",null,a.teacher_name," ",a.teacher_subname))))))},Fe=a(15),Me=a.n(Fe),De=function(e){var t=e.type,a=Object(n.useState)([]),s=Object(l.a)(a,2),c=s[0],o=s[1],u=Object(n.useState)([]),f=Object(l.a)(u,2),E=f[0],b=f[1],h=Object(n.useState)({}),v=Object(l.a)(h,2),j=v[0],S=v[1],N=Object(n.useState)({}),O=Object(l.a)(N,2),y=O[0],x=O[1],w=Object(n.useState)(0),_=Object(l.a)(w,2),C=_[0],A=_[1],k=Object(n.useState)(0),T=Object(l.a)(k,2),z=T[0],I=T[1],q=Object(n.useState)(1),L=Object(l.a)(q,2),F=L[0],M=L[1],D=Object(n.useState)(!1),P=Object(l.a)(D,2),V=P[0],R=P[1],B=Object(i.g)(),J=B.exam_id,U=B.student_id,H=B.class_id,Y=Object(n.useState)([]),Z=Object(l.a)(Y,2),G=Z[0],W=Z[1],Q=Object(n.useState)([]),X=Object(l.a)(Q,2),K=X[0],$=X[1],ee=Object(n.useState)({}),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(0),se=Object(l.a)(re,2),ce=se[0],le=se[1],oe=Object(n.useState)(1),ie=Object(l.a)(oe,2),ue=ie[0],me=ie[1],de=Object(n.useState)(0),fe=Object(l.a)(de,2),Ee=fe[0],be=fe[1],pe=Object(n.useState)(0),he=Object(l.a)(pe,2),ve=he[0],ge=he[1],je=Object(n.useState)(1),Se=Object(l.a)(je,2),Ne=Se[0],Oe=Se[1],ye=Object(n.useState)(0),xe=Object(l.a)(ye,2),we=xe[0],_e=xe[1],Ce=Object(n.useState)(1),Ae=Object(l.a)(Ce,2),ke=Ae[0],Te=Ae[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var a,n,r,s,c,l,i,u,d,f,E,h,v,g,j,N,O,y;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,fetch(p+"/students/one/"+U,{headers:{Authorization:sessionStorage.user}});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.next=9,fetch(p+"/annuals/"+J,{headers:{Authorization:sessionStorage.user}});case 9:return r=e.sent,e.next=12,r.json();case 12:return s=e.sent,e.next=15,fetch(p+"/class/"+H,{headers:{Authorization:sessionStorage.user}});case 15:return c=e.sent,e.next=18,c.json();case 18:return l=e.sent,e.next=21,fetch(p+"/subjects/all2/"+t,{headers:{Authorization:sessionStorage.user}});case 21:return i=e.sent,e.next=24,i.json();case 24:return u=e.sent,e.next=27,fetch(p+"/notes/all-class/"+H,{headers:{Authorization:sessionStorage.user}});case 27:return d=e.sent,e.next=30,d.json();case 30:return f=(f=e.sent).filter(function(e){return e.student_id===U}),e.next=34,fetch(p+"/trim/getAll",{headers:{Authorization:sessionStorage.user}});case 34:return E=e.sent,e.next=37,E.json();case 37:return h=e.sent,e.next=40,fetch(p+"/notes/gt/"+J+"/"+H,{headers:{Authorization:sessionStorage.user}});case 40:return v=e.sent,e.next=43,v.json();case 43:g=e.sent,j=f,f=f.filter(function(e){return e.student_id===U&&e.exam_id===J.toString()}),N=0,O=0,y=[],u.forEach(function(e){N+=e.over,((j.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===h[0].id}).length>0?parseFloat(j.filter(function(t){return t.subject_id===e.id.toString()&&t.subject_id===e.id.toString()})[0].value):0)+(j.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===h[1].id}).length>0?parseFloat(j.filter(function(t){return t.subject_id===e.id.toString()&&t.subject_id===e.id.toString()})[1].value):0)+(j.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===h[2].id}).length>0?parseFloat(j.filter(function(t){return t.subject_id===e.id.toString()&&t.subject_id===e.id.toString()})[2].value):0))/3<e.over/2&&y.push(e.name)}),f.forEach(function(e){var t=parseFloat(e.value);O+=t}),g.arr.forEach(function(e,t){e.student_id===U&&M(t+1)}),ge(Math.round(O/N*20/2*100)/100),ne(y),I(O),A(N),o(n),x(s),S(l),b(u),W(j),R(!1),$(h);case 63:case"end":return e.stop()}},e)}))()},[]),Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a,n,r,s,c,l,o,i,u,d,f,E,b,h,v,g;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,fetch(p+"/trim/getAll",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.next=9,fetch(p+"/notes/all/"+H+"/"+a[0].id,{headers:{Authorization:sessionStorage.user}});case 9:return n=e.sent,e.next=12,n.json();case 12:return r=e.sent,e.next=15,fetch(p+"/notes/gt/"+a[0].id+"/"+H,{headers:{Authorization:sessionStorage.user}});case 15:return s=e.sent,e.next=18,s.json();case 18:return c=e.sent,l=0,r.filter(function(e){return e.student_id===U}).forEach(function(e){var t=parseFloat(e.value);l+=t}),c.arr.forEach(function(e,t){e.student_id===U&&me(t+1)}),le(l),e.next=25,fetch(p+"/notes/all/"+H+"/"+a[1].id,{headers:{Authorization:sessionStorage.user}});case 25:return o=e.sent,e.next=28,o.json();case 28:return i=e.sent,e.next=31,fetch(p+"/notes/gt/"+a[1].id+"/"+H,{headers:{Authorization:sessionStorage.user}});case 31:return u=e.sent,e.next=34,u.json();case 34:return d=e.sent,f=0,i.filter(function(e){return e.student_id===U}).forEach(function(e){var t=parseFloat(e.value);f+=t}),d.arr.forEach(function(e,t){e.student_id===U&&Oe(t+1)}),be(f),e.next=41,fetch(p+"/notes/all/"+H+"/"+a[2].id,{headers:{Authorization:sessionStorage.user}});case 41:return E=e.sent,e.next=44,E.json();case 44:return b=e.sent,e.next=47,fetch(p+"/notes/gt/"+a[2].id+"/"+H,{headers:{Authorization:sessionStorage.user}});case 47:return h=e.sent,e.next=50,h.json();case 50:v=e.sent,g=0,b.filter(function(e){return e.student_id===U}).forEach(function(e){var t=parseFloat(e.value);g+=t}),v.arr.forEach(function(e,t){e.student_id===U&&(console.log(e),Te(t+1))}),_e(g),R(!1);case 56:case"end":return e.stop()}},e)}))()},[]);var ze=function(e){return Math.round(e/(10*E.length)*20/2*100)/100};return r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg",style:{padding:"10px 10px"}},r.a.createElement("a",{target:"_blank",href:"".concat(p,"/download/pdf/bul-an/").concat(j.year,"/").concat(H,"/").concat(U,"/").concat(J),className:"btn btn-success"},"T\xe9l\xe9charger le bulletin")),r.a.createElement(Le,{currentClass:j,actualExam:y,student:c}),r.a.createElement("table",{className:"table table-bordered table-light table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{align:"center"},"MATIERES"),K.map(function(e){return r.a.createElement("th",null,e.name)}))),r.a.createElement("tbody",null,E.map(function(e,t){var a=G.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===K[0].id}).length>0?parseFloat(G.filter(function(t){return t.subject_id===e.id.toString()&&t.subject_id===e.id.toString()})[0].value):0,n=G.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===K[1].id}).length>0?parseFloat(G.filter(function(t){return t.subject_id===e.id.toString()&&t.subject_id===e.id.toString()})[1].value):0,s=G.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===K[2].id}).length>0?parseFloat(G.filter(function(t){return t.subject_id===e.id.toString()&&t.subject_id===e.id.toString()})[2].value):0;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",{align:"center"},a>5?r.a.createElement("img",{src:Me.a,width:"20px",alt:""}):""),r.a.createElement("td",{align:"center"},n>5?r.a.createElement("img",{src:Me.a,width:"20px",alt:""}):""),r.a.createElement("td",{align:"center"},s>5?r.a.createElement("img",{src:Me.a,width:"20px",alt:""}):""))}),r.a.createElement("tr",null,r.a.createElement("td",null,"Total des points:"),r.a.createElement("td",null,ce," / ",10*E.length),r.a.createElement("td",null,Ee," / ",10*E.length),r.a.createElement("td",null,we," / ",10*E.length)),r.a.createElement("tr",null,r.a.createElement("td",null,"Moyenne:"),r.a.createElement("td",null,ze(ce)," / 10"),r.a.createElement("td",null,ze(Ee)," / 10"),r.a.createElement("td",null,ze(we)," / 10")),r.a.createElement("tr",null,r.a.createElement("td",null,"Rang:"),r.a.createElement("td",null,ue," / ",j.total_students),r.a.createElement("td",null,Ne," / ",j.total_students),r.a.createElement("td",null,ke," / ",j.total_students)))),r.a.createElement("table",{className:"table table-bordered table-light table-striped"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,qe[g()].totalPoints),r.a.createElement("td",null,z," / ",10*E.length),r.a.createElement("td",null,"Encouragement :"),r.a.createElement("td",null,ve>6?"oui":"non")),r.a.createElement("tr",null,r.a.createElement("td",null,qe[g()].average),r.a.createElement("td",null,ve," / 10"),r.a.createElement("td",null,"Tableau d'honneur :"),r.a.createElement("td",null,ve>7.5?"oui":"non")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},qe[g()].rank),r.a.createElement("td",{colSpan:2}," ",F," / ",j.total_students)),r.a.createElement("tr",null,r.a.createElement("td",null,"Des efforts s'imposent en:"),r.a.createElement("td",null,"Visa du parent"),r.a.createElement("td",{colSpan:2},"Visa du chef d'etablissement")),r.a.createElement("tr",{style:{height:"100px"}},r.a.createElement("td",null,ae.length>0?ae.map(function(e){return r.a.createElement("li",{key:e},e)}):r.a.createElement("li",null,"RAS")),r.a.createElement("td",null),r.a.createElement("td",{colSpan:2})))),V?C:"")};var Pe=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(!1),o=Object(l.a)(c,2),i=o[0],u=o[1];return Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,fetch(p+"/trim/getAll",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,s(a),u(!1);case 9:case"end":return e.stop()}},e)}))()},[]),r.a.createElement("div",{className:"container",style:{paddingTop:"20px"}},r.a.createElement("table",{className:"table table-dark table-bordered table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,ge[g()].name),r.a.createElement("th",null,ge[g()].action))),r.a.createElement("tbody",null,i?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:5,style:{justifyItems:"center",paddingLeft:"50%"}},r.a.createElement(E.a,{color:"#fff",type:"cylon"}))):a.length>0?a.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement("a",{style:{textDecoration:"none",color:"#fff"},href:"/trims".concat(sessionStorage.classType,"/").concat(e.id,"/").concat(sessionStorage.classId)},ge[g()].seeData)))}):r.a.createElement("tr",null," ",r.a.createElement("td",{colSpan:5,style:{textAlign:"center"}},ge.fr.nohavetrim)," "))))},Ve=function(e){var t=e.error,a=e.setError,s=e.setIsAddTeacher,c=Object(n.useState)({name:"",subname:"",classId:"",phone_number:"",sex:"m",birthday:""}),o=Object(l.a)(c,2),i=o[0],u=o[1],f=Object(n.useState)({}),E=Object(l.a)(f,2),b=E[0],h=E[1],v=Object(n.useState)(!1),j=Object(l.a)(v,2),N=j[0],O=j[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,fetch(p+"/class/getAll",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,h(a),O(!1);case 9:case"end":return e.stop()}},e)}))()},[]);return r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,H[g()].addTeacher)),r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),O(!0),fetch(p+"/teachers/add",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?(s(function(e){return!e}),window.location.reload()):a(e.message)}),O(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},H[g()].teacherName," ",r.a.createElement("span",{className:"text-danger"},"*")," "),r.a.createElement("input",{type:"text",value:i.name,onChange:function(e){u(function(t){return Object(S.a)({},t,{name:e.target.value})})},placeholder:H[g()].teacherName})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},H[g()].teacherSubname),r.a.createElement("input",{type:"text",value:i.subname,onChange:function(e){u(function(t){return Object(S.a)({},t,{subname:e.target.value})})},placeholder:H[g()].teacherSubname})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},H[g()].teacherClassname," ",r.a.createElement("span",{className:"text-danger"},"*")," "),r.a.createElement("select",{value:i.classId,onChange:function(e){u(function(t){return Object(S.a)({},t,{classId:e.target.value})})},className:"form-control",placeholder:H[g()].teacherClassname},r.a.createElement("option",{value:""},H[g()].selectClass),b.length>0?b.map(function(e){return r.a.createElement("option",{value:e.id},e.name)}):r.a.createElement("option",{value:""},H[g()].noClass))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},H[g()].number),r.a.createElement("input",{type:"tel",value:i.phone_number,onChange:function(e){u(function(t){return Object(S.a)({},t,{phone_number:e.target.value})})},placeholder:H[g()].number})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},H[g()].birthday),r.a.createElement("input",{type:"date",value:i.birthday,onChange:function(e){u(function(t){return Object(S.a)({},t,{birthday:e.target.value})})},placeholder:H[g()].birthday})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},H[g()].sex),r.a.createElement("select",{value:i.sex,onChange:function(e){u(function(t){return Object(S.a)({},t,{sex:e.target.value})})},className:"form-control"},r.a.createElement("option",{value:""},H[g()].selectSex),r.a.createElement("option",{value:"m"},H[g()].m),r.a.createElement("option",{value:"f"},H[g()].f))),""!==t?r.a.createElement("div",{className:"error"},t):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn btn-blue",type:"submit"},N?H[g()].saving:H[g()].save),r.a.createElement("button",{onClick:function(){s(function(e){return!e}),a("")},type:"reset"}," ",H[g()].close," "))))},Re=function(e){var t=e.error,a=e.setError,s=e.setIsEditClass,c=e.teacherToEditId,o=Object(n.useState)(""),i=Object(l.a)(o,2),u=i[0],f=i[1],E=Object(n.useState)({}),b=Object(l.a)(E,2),h=b[0],v=b[1],j=Object(n.useState)({}),N=Object(l.a)(j,2),O=N[0],y=N[1],x=Object(n.useState)(!1),w=Object(l.a)(x,2),_=w[0],C=w[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,fetch(p+"/class/getAll",{headers:{Authorization:sessionStorage.user}}).catch(function(e){return a(e)});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,v(n),C(!1);case 9:case"end":return e.stop()}},e)}))()},[]),Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,fetch(p+"/teachers/"+c,{headers:{Authorization:sessionStorage.user}}).catch(function(e){return a(e)});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,f(n.class_id),y(n),C(!1);case 10:case"end":return e.stop()}},e)}))()},[]);return r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,H[g()].editTeacher)),r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),C(!0),O.OldclassId=u,fetch(p+"/teachers/"+c,{method:"PUT",body:JSON.stringify(O),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():a(e.message)}).catch(function(e){return a(e)}),C(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},H[g()].teacherName," ",r.a.createElement("span",{className:"text-danger"},"*")," "),r.a.createElement("input",{type:"text",value:O.name,onChange:function(e){y(function(t){return Object(S.a)({},t,{name:e.target.value})})},placeholder:H[g()].teacherName})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},H[g()].teacherSubname),r.a.createElement("input",{type:"text",value:O.subname,onChange:function(e){y(function(t){return Object(S.a)({},t,{subname:e.target.value})})},placeholder:H[g()].teacherSubname})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},H[g()].teacherClassname," ",r.a.createElement("span",{className:"text-danger"},"*")," "),r.a.createElement("select",{value:O.class_id,onChange:function(e){y(function(t){return Object(S.a)({},t,{class_id:e.target.value})})},className:"form-control",placeholder:H[g()].teacherClassname},r.a.createElement("option",{value:""},H[g()].selectClass),h.length>0?h.map(function(e){return r.a.createElement("option",{value:e.id},e.name)}):r.a.createElement("option",{value:""},H[g()].noClass))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},H[g()].number),r.a.createElement("input",{type:"tel",value:O.phone_number,onChange:function(e){y(function(t){return Object(S.a)({},t,{phone_number:e.target.value})})},placeholder:H[g()].number})),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},H[g()].sex," ",r.a.createElement("span",{className:"text-danger"},"*")," "),r.a.createElement("select",{value:O.sex,onChange:function(e){y(function(t){return Object(S.a)({},t,{sex:e.target.value})})},className:"form-control"},r.a.createElement("option",{value:""},H[g()].selectSex),r.a.createElement("option",{value:"m"},H[g()].m),r.a.createElement("option",{value:"f"},H[g()].f))),""!==t?r.a.createElement("div",{className:"error"},t):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn btn-blue",type:"submit"},_?H[g()].saving:H[g()].save),r.a.createElement("button",{onClick:function(){s(function(e){return!e}),a("")},type:"reset"}," ",H[g()].close," "))))},Be=function(e){e.error;var t=e.setIsMdp,a=e.mdp;return r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,H[g()].seeMdp)),r.a.createElement("div",{className:"card-content"},a),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{onClick:function(){t(function(e){return!e})},type:"submit"},H[g()].close)))},Je=function(){var e=Object(i.f)();"ad"!==sessionStorage.stat&&e("/students/"+sessionStorage.classId);var t=Object(n.useState)({}),a=Object(l.a)(t,2),s=a[0],c=a[1],o=Object(n.useState)(!1),u=Object(l.a)(o,2),f=u[0],b=u[1],h=Object(n.useState)(""),v=Object(l.a)(h,2),j=v[0],S=v[1],N=Object(n.useState)(!1),y=Object(l.a)(N,2),w=y[0],_=y[1],C=Object(n.useState)(!1),A=Object(l.a)(C,2),k=A[0],T=A[1],z=Object(n.useState)(""),q=Object(l.a)(z,2),L=q[0],F=q[1],M=Object(n.useState)(!1),D=Object(l.a)(M,2),P=D[0],V=D[1],R=Object(n.useState)(!1),B=Object(l.a)(R,2),J=B[0],U=B[1],Y=Object(n.useState)(!1),Z=Object(l.a)(Y,2),G=Z[0],W=Z[1],Q=Object(n.useState)(""),X=Object(l.a)(Q,2),K=X[0],$=X[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,fetch(p+"/teachers/getAll",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,c(a),b(!1);case 9:case"end":return e.stop()}},e)}))()},[]);return r.a.createElement("div",{style:{padding:"10px 10px"},className:"container"},r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("button",{onClick:function(){V(function(e){return!e})},className:"btn btn-blue"},H[g()].addTeacher),r.a.createElement("label",{htmlFor:"csvFile",style:{marginLeft:"10px"},className:"btn btn-success"},H[g()].importTeacher),r.a.createElement("input",{type:"file",accept:".csv",id:"csvFile",style:{display:"none"},onChange:function(e){I(e,"/upload/teachers/csv",S)}}),r.a.createElement("button",{onClick:function(){_(!0),fetch(p+"/teachers/regeneratePassword",{headers:{Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():S(e.message)}),_(!1)},style:{marginLeft:"10px"},className:"btn btn-blue"},w?H[g()].loading:H[g()].generateNewMdp),r.a.createElement("a",{href:p+"/teachers/downloadTeachersPassword/"+sessionStorage.user,target:"_blank",rel:"noopener noreferrer",style:{marginLeft:"10px"},className:"btn btn-blue"},H[g()].downloadTeacherMdp)),r.a.createElement("div",{className:"allClas col-md-12"},f?r.a.createElement("div",{className:"error",style:{position:"absolute",top:"39%",left:"53%"}},r.a.createElement(E.a,{color:"#fff",type:"spin"})):s.length>0?s.map(function(e,t){return r.a.createElement("div",{className:"clas",key:t},r.a.createElement("div",{className:"top"},r.a.createElement("div",{className:"classAbs"},e.name),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},H.fr.name,":"),r.a.createElement("span",{className:"r"},e.name)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},H.fr.subname,":"),r.a.createElement("span",{className:"r"},e.subname)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},H.fr.class,":"),r.a.createElement("span",{className:"r"},e.className)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},H.fr.section,":"),r.a.createElement("span",{className:"r"},e.section_name)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},H.fr.mr,":"),r.a.createElement("span",{className:"r"},e.matricule))),r.a.createElement("div",{className:"bottom"},r.a.createElement("button",{onClick:function(){$(e.password),W(function(e){return!e})},className:"btn btn-warning"}," ",H[g()].seeMdp," "),r.a.createElement("button",{onClick:function(){U(function(e){return!e}),F(e.id)},className:"btn btn-success"}," ",H[g()].edit),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){var t;t=e.id,x.fire({title:"Confirmez la suppression !",icon:"question",text:"Cette action est irreversible !!"}).then(function(e){e.value&&(T(!0),fetch(p+"/teachers/"+t,{method:"DELETE",headers:{Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){console.log(e),e.success?window.location.reload():(console.log(e.message),S(e.message))}),T(!1))})}}," ",k?H[g()].deleting:H[g()].delete," ")))}):r.a.createElement("div",{className:"i"},r.a.createElement("div",{className:"empty monINfos"},H[g()].noTeacher," ",r.a.createElement("br",null),H[g()].doYou," ",r.a.createElement("button",{onClick:function(){V(function(e){return!e})},className:"btn btn-blue"}," ",H[g()].add," ")))),r.a.createElement(O.a,{isOpen:P},r.a.createElement(Ve,{error:j,setError:S,setIsAddTeacher:V})),r.a.createElement(O.a,{isOpen:G},r.a.createElement(Be,{setIsMdp:W,mdp:K})),r.a.createElement(O.a,{isOpen:J},r.a.createElement(Re,{error:j,setError:S,setIsEditClass:U,teacherToEditId:L})))},Ue=function(e){var t=e.type,a=Object(n.useState)([]),s=Object(l.a)(a,2),c=s[0],u=s[1],f=Object(n.useState)([]),E=Object(l.a)(f,2),b=E[0],h=E[1],v=Object(n.useState)({}),g=Object(l.a)(v,2),j=g[0],S=g[1],N=Object(n.useState)({}),O=Object(l.a)(N,2),y=O[0],x=O[1],w=Object(n.useState)(0),_=Object(l.a)(w,2),C=_[0],A=_[1],k=Object(n.useState)(!1),T=Object(l.a)(k,2),z=T[0],I=T[1],q=Object(i.g)(),L=q.exam_id,F=q.class_id,M=Object(n.useState)({}),D=Object(l.a)(M,2),P=D[0],V=D[1],R=Object(n.useState)(""),B=Object(l.a)(R,2),J=B[0],U=B[1],H=Object(n.useRef)();Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var a,n,r,s,c,l,o,i,d,f,E;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,fetch(p+"/students/"+F,{headers:{Authorization:sessionStorage.user}});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.next=9,fetch(p+"/trim/"+L,{headers:{Authorization:sessionStorage.user}});case 9:return r=e.sent,e.next=12,r.json();case 12:return s=e.sent,e.next=15,fetch(p+"/class/"+F,{headers:{Authorization:sessionStorage.user}});case 15:return c=e.sent,e.next=18,c.json();case 18:return l=e.sent,e.next=21,fetch(p+"/subjects/all2/"+t,{headers:{Authorization:sessionStorage.user}});case 21:return o=e.sent,e.next=24,o.json();case 24:return i=e.sent,e.next=27,fetch(p+"/notes/all2/"+F+"/"+L,{headers:{Authorization:sessionStorage.user}});case 27:return d=e.sent,e.next=30,d.json();case 30:f=e.sent,E=0,i.forEach(function(e){E+=e.over}),A(E),u(n),x(s),S(l),h(i),V(f),I(!1);case 40:case"end":return e.stop()}},e)}))()},[]);var Y=function(e,t,a,n){var r={value:e,student_id:t,subject_id:a,exam_id:L,subject_type:n,class_id:F};fetch(p+"/notes/addOrUpdate2",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success||U(e.message)})};return r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg",style:{padding:"10px"}},r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav",style:{fontSize:"1.3rem",display:"flex",justifyContent:"space-between"}},r.a.createElement("h2",{style:{marginLeft:"40px"}},y.name," : ",j.name),r.a.createElement("a",{href:p+"/download/pdf/bul2/".concat(j.year,"/")+F+"/"+L,target:"_blank",className:"btn btn-success"},pe.fr.downloadBuls)))),""===J?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{style:{marginTop:"30px"},className:"alert alert-danger"},J),r.a.createElement("table",{style:{textAlign:"center"},ref:H,id:"bulT",className:"table table-bordered table-striped table-light text-align-center"},r.a.createElement("thead",{style:{color:"#000",fontSize:"1rem",fontWeight:"500"}},r.a.createElement("tr",{className:"table-dark"},r.a.createElement("th",{rowSpan:4,width:"20"},"N"),r.a.createElement("th",{rowSpan:4},pe.fr.name),r.a.createElement("th",{colSpan:3*b.length},"Matieres"),r.a.createElement("th",{rowSpan:3},pe.fr.action)),r.a.createElement("tr",null,b.length>0?b.map(function(e,t){return r.a.createElement("th",{colSpan:3,key:t},e.name)}):r.a.createElement(r.a.Fragment,null,pe.fr.noCom)),r.a.createElement("tr",null,b.length>0?b.map(function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("th",{key:t},"Devoir"),r.a.createElement("th",{key:t},"Compo"),r.a.createElement("th",{key:t},"Moyenne"))}):r.a.createElement(r.a.Fragment,null,pe.fr.noCom))),r.a.createElement("tbody",null,c.length>0?c.map(function(e,t){var a=z?{}:P.filter(function(t){return t.student_id===e.id.toString()});return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name," ",e.subname),b.map(function(t,n){var s=a.filter(function(e){return e.subject_id===t.id.toString()&&"devoir"===e.subject_type}).length>0?parseFloat(a.filter(function(e){return e.subject_id===t.id.toString()&&"devoir"===e.subject_type})[0].value):0,c=a.filter(function(e){return e.subject_id===t.id.toString()&&"compo"===e.subject_type}).length>0?parseFloat(a.filter(function(e){return e.subject_id===t.id.toString()&&"compo"===e.subject_type})[0].value):0,l=s+c;return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{key:n},r.a.createElement("input",{style:{width:"50px"},type:"number",defaultValue:s,onChange:function(a){Y(a.target.value,e.id,t.id,"devoir")}})),r.a.createElement("td",{key:n},r.a.createElement("input",{style:{width:"50px"},type:"number",defaultValue:c,onChange:function(a){Y(a.target.value,e.id,t.id,"compo")}})),r.a.createElement("td",null,l/2))}),r.a.createElement("td",null,r.a.createElement(o.b,{to:"".concat(e.id),className:"btn btn-primary"},pe.fr.seeBul),r.a.createElement("a",{target:"_blank",href:"".concat(p,"/download/pdf/bul2/").concat(j.year,"/").concat(F,"/").concat(e.id,"/").concat(L),className:"btn btn-success",style:{marginLeft:"10px"}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-file-earmark-arrow-down-fill",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zm-1 4v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 11.293V7.5a.5.5 0 0 1 1 0z"})))))}):r.a.createElement("tr",{className:"table-light"},r.a.createElement("td",{colSpan:144},pe.fr.noStudent)))),z?C:"")},He=function(e){var t=e.error,a=e.setError,s=e.setIsEditClass,c=e.classToEditId,o=Object(n.useState)({}),i=Object(l.a)(o,2),u=i[0],f=i[1],E=Object(n.useState)(!1),b=Object(l.a)(E,2),h=b[0],v=b[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,fetch(p+"/class/"+c,{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,f(a),v(!1);case 9:case"end":return e.stop()}},e)}))()},[]);return r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,k[g()].editClass," (",u.name,")")),r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),v(!0),fetch(p+"/class/"+c,{method:"PUT",body:JSON.stringify(u),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){console.log(e),e.success?window.location.reload():a(e.message)}),v(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",{className:" table-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Noms"),r.a.createElement("th",null,"Nouveau"),r.a.createElement("th",null,"Ancien"))),r.a.createElement("tbody",{className:"table-light"},r.a.createElement("tr",null,r.a.createElement("td",null,"Inscriptions"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",readOnly:!0,className:"form-control",style:{width:"150px"},value:u.inscriptions_news_students,onChange:function(e){f(function(t){return Object(S.a)({},t,{inscriptions_news_students:e.target.value})})}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",readOnly:!0,className:"form-control",style:{width:"150px"},value:u.inscriptions_olds_students,onChange:function(e){f(function(t){return Object(S.a)({},t,{inscriptions_olds_students:e.target.value})})}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"1ere Tranche"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",readOnly:!0,className:"form-control",style:{width:"150px"},value:u.first_tranch_news_students,onChange:function(e){f(function(t){return Object(S.a)({},t,{first_tranch_news_students:e.target.value})})}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",readOnly:!0,className:"form-control",style:{width:"150px"},value:u.first_tranch_olds_students,onChange:function(e){f(function(t){return Object(S.a)({},t,{first_tranch_olds_students:e.target.value})})}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"2eme Tranche"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",readOnly:!0,className:"form-control",style:{width:"150px"},value:u.second_tranch_news_students,onChange:function(e){f(function(t){return Object(S.a)({},t,{second_tranch_news_students:e.target.value})})}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",readOnly:!0,className:"form-control",style:{width:"150px"},value:u.second_tranch_olds_students,onChange:function(e){f(function(t){return Object(S.a)({},t,{second_tranch_olds_students:e.target.value})})}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"3eme Tranche"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",readOnly:!0,className:"form-control",style:{width:"150px"},value:u.third_tranch_news_students,onChange:function(e){f(function(t){return Object(S.a)({},t,{third_tranch_news_students:e.target.value})})}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",readOnly:!0,className:"form-control",style:{width:"150px"},value:u.third_tranch_olds_students,onChange:function(e){f(function(t){return Object(S.a)({},t,{third_tranch_olds_students:e.target.value})})}}))))),t?r.a.createElement("div",{className:"alert alert-danger"},t):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{className:"card-footer"},h?"Chargement...":"",r.a.createElement("button",{onClick:function(){s(function(e){return!e}),a("")},type:"reset"}," ",k[g()].close," "))))},Ye=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)({}),i=Object(l.a)(c,2),u=i[0],f=i[1],b=Object(n.useState)(!1),h=Object(l.a)(b,2),v=h[0],j=h[1],S=Object(n.useState)(""),N=Object(l.a)(S,2),y=N[0],x=N[1],w=Object(n.useState)(""),_=Object(l.a)(w,2),C=_[0],A=_[1],T=Object(n.useState)(!1),z=Object(l.a)(T,2),I=z[0],q=z[1],L=Object(n.useState)(""),F=Object(l.a)(L,2),M=F[0],D=F[1],P=Object(n.useState)({}),V=Object(l.a)(P,2),R=V[0],B=V[1];return Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,fetch(p+"/class/getAll",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.next=9,fetch(p+"/students/total",{headers:{Authorization:sessionStorage.user}});case 9:return n=e.sent,e.next=12,n.json();case 12:r=e.sent,s(a),B(r),f(a),j(!1);case 17:case"end":return e.stop()}},e)}))()},[]),Object(n.useEffect)(function(){a.length>0&&f(a.filter(function(e){return e.name.toLowerCase().includes(M.toLowerCase())}))},[M]),r.a.createElement("div",{style:{padding:"10px 10px"},className:"container"},r.a.createElement("div",{style:{marginBottom:"10px",display:"flex"}},r.a.createElement("input",{value:M,onChange:function(e){D(e.target.value)},type:"search",className:"form-control form-control-sm",style:{width:"75%",marginRight:"10px"},placeholder:"Rechercher une classe"})),r.a.createElement("div",{style:{marginBottom:"10px",display:"flex"}},"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0",r.a.createElement("h3",null,"Effectif total: ",R.total)," ",r.a.createElement("br",null),r.a.createElement("h3",null,"Nombre de garcons: ",R.boys)," \xa0 \xa0",r.a.createElement("h3",null,"Nombre de filles: ",R.girls)," \xa0 \xa0",r.a.createElement("h3",null,"Sex non specifies: ",R.unspecified)),r.a.createElement("div",{className:"allClas"},v?r.a.createElement("div",{className:"error",style:{position:"absolute",top:"39%",left:"53%"}},r.a.createElement(E.a,{color:"#fff",type:"spin"})):u.length>0?u.map(function(e,t){return r.a.createElement("div",{className:"clas",key:t},r.a.createElement("div",{className:"top"},r.a.createElement("div",{className:"classAbs"},e.name.slice(0,8)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},k[g()].class,":"),r.a.createElement("span",{className:"r"},e.name)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},k[g()].section,":"),r.a.createElement("span",{className:"r"},e.sName)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},k[g()].level,":"),r.a.createElement("span",{className:"r"},e.level)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},e.total_students),r.a.createElement("span",{className:"r"},"\xe9l\xe8ve",e.total_students>1?"s":"")),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},"Nombre d'inscrits:"),r.a.createElement("span",{className:"r"},e.inscripted))),r.a.createElement("div",{className:"bottom"},r.a.createElement(o.b,{to:"".concat(e.id),className:"btn btn-primary"}," ",k[g()].visite," "),r.a.createElement("button",{onClick:function(){A(e.id),q(function(e){return!e})},className:"btn btn-warning"}," ",k[g()].edit," ")))}):r.a.createElement("div",{className:"i"},r.a.createElement("div",{className:"empty monINfos"},k[g()].nohaveclass," ",r.a.createElement("br",null)))),r.a.createElement(O.a,{isOpen:I},r.a.createElement(He,{error:y,setError:x,setIsEditClass:q,classToEditId:C})))},Ze=function(e){var t=e.type,a=Object(n.useState)([]),s=Object(l.a)(a,2),c=s[0],o=s[1],u=Object(n.useState)([]),f=Object(l.a)(u,2),E=f[0],b=f[1],h=Object(n.useState)({}),v=Object(l.a)(h,2),j=v[0],S=v[1],N=Object(n.useState)({}),O=Object(l.a)(N,2),y=O[0],x=O[1],w=Object(n.useState)(0),_=Object(l.a)(w,2),C=_[0],A=_[1],k=Object(n.useState)(1),T=Object(l.a)(k,2),z=T[0],I=T[1],q=Object(n.useState)(!1),L=Object(l.a)(q,2),F=L[0],M=L[1],D=Object(i.g)(),P=D.exam_id,V=D.student_id,R=D.class_id,B=Object(n.useState)([]),J=Object(l.a)(B,2),U=J[0],H=J[1],Y=Object(n.useState)([]),Z=Object(l.a)(Y,2),G=Z[0],W=Z[1],Q=Object(n.useState)({}),X=Object(l.a)(Q,2),K=X[0],$=X[1],ee=Object(n.useState)(0),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(1),se=Object(l.a)(re,2),ce=se[0],le=se[1],oe=Object(n.useState)(0),ie=Object(l.a)(oe,2),ue=ie[0],me=ie[1],de=Object(n.useState)(1),fe=Object(l.a)(de,2),Ee=fe[0],be=fe[1],pe=Object(n.useState)(0),he=Object(l.a)(pe,2),ve=he[0],ge=he[1],je=Object(n.useState)(1),Se=Object(l.a)(je,2),Ne=Se[0],Oe=Se[1],ye=Object(n.useState)(0),xe=Object(l.a)(ye,2),we=xe[0],_e=xe[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var a,n,r,s,c,l,i,u,d,f,E,h,v,g,j,N,O,y;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,fetch(p+"/students/one/"+V,{headers:{Authorization:sessionStorage.user}});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.next=9,fetch(p+"/annuals/"+P,{headers:{Authorization:sessionStorage.user}});case 9:return r=e.sent,e.next=12,r.json();case 12:return s=e.sent,e.next=15,fetch(p+"/class/"+R,{headers:{Authorization:sessionStorage.user}});case 15:return c=e.sent,e.next=18,c.json();case 18:return l=e.sent,e.next=21,fetch(p+"/subjects/all2/"+t,{headers:{Authorization:sessionStorage.user}});case 21:return i=e.sent,e.next=24,i.json();case 24:return u=e.sent,e.next=27,fetch(p+"/notes/all-class2/"+R,{headers:{Authorization:sessionStorage.user}});case 27:return d=e.sent,e.next=30,d.json();case 30:return f=(f=e.sent).filter(function(e){return e.student_id===V}),E=f,e.next=35,fetch(p+"/trim/getAll",{headers:{Authorization:sessionStorage.user}});case 35:return h=e.sent,e.next=38,h.json();case 38:return v=e.sent,e.next=41,fetch(p+"/notes/gt/"+P+"/"+R,{headers:{Authorization:sessionStorage.user}});case 41:return g=e.sent,e.next=44,g.json();case 44:j=e.sent,f=f.filter(function(e){return e.student_id===V&&e.exam_id===P.toString()}),N=0,O=0,y=[],u.forEach(function(e){N+=10;var t=E.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===v[0].id&&"devoir"===t.subject_type}).length>0?E.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===v[0].id&&"devoir"===t.subject_type})[0].value:0,a=E.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===v[0].id&&"compo"===t.subject_type}).length>0?E.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===v[0].id&&"compo"===t.subject_type})[0].value:0,n=E.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===v[1].id&&"devoir"===t.subject_type}).length>0?E.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===v[1].id&&"devoir"===t.subject_type})[0].value:0,r=E.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===v[1].id&&"compo"===t.subject_type}).length>0?E.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===v[1].id&&"compo"===t.subject_type})[0].value:0,s=E.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===v[2].id&&"devoir"===t.subject_type}).length>0?E.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===v[2].id&&"devoir"===t.subject_type})[0].value:0,c=E.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===v[2].id&&"compo"===t.subject_type}).length>0?E.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===v[2].id&&"compo"===t.subject_type})[0].value:0,l=(parseInt(a)+parseInt(t))/2,o=(parseInt(r)+parseInt(n))/2,i=(parseInt(c)+parseInt(s))/2,u=(parseInt(l)+parseInt(o)+parseInt(i))/3;O+=Math.round(100*u)/100,u<5&&y.push(e.name)}),j.arr.forEach(function(e,t){e.student_id===V&&I(t+1)}),_e(Math.round(O/N*20/2*100)/100),$(y),A(O),o(n),x(s),S(l),b(u),H(E),M(!1),W(v);case 61:case"end":return e.stop()}},e)}))()},[]),Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a,n,r,s,c,l,o,i,u,d,f,E,b,h,v,g;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,fetch(p+"/trim/getAll",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.next=9,fetch(p+"/notes/all2/"+R+"/"+a[0].id,{headers:{Authorization:sessionStorage.user}});case 9:return n=e.sent,e.next=12,n.json();case 12:return r=e.sent,e.next=15,fetch(p+"/notes/gt/"+a[0].id+"/"+R,{headers:{Authorization:sessionStorage.user}});case 15:return s=e.sent,e.next=18,s.json();case 18:return c=e.sent,l=0,r.filter(function(e){return e.student_id===V}).forEach(function(e){var t=parseFloat(e.value);l+=t}),c.arr.forEach(function(e,t){e.student_id===V&&le(t+1)}),ne(l/2),e.next=25,fetch(p+"/notes/all2/"+R+"/"+a[1].id,{headers:{Authorization:sessionStorage.user}});case 25:return o=e.sent,e.next=28,o.json();case 28:return i=e.sent,e.next=31,fetch(p+"/notes/gt/"+a[1].id+"/"+R,{headers:{Authorization:sessionStorage.user}});case 31:return u=e.sent,e.next=34,u.json();case 34:return d=e.sent,f=0,i.filter(function(e){return e.student_id===V}).forEach(function(e){var t=parseFloat(e.value);f+=t}),d.arr.forEach(function(e,t){e.student_id===V&&be(t+1)}),me(f/2),e.next=41,fetch(p+"/notes/all2/"+R+"/"+a[2].id,{headers:{Authorization:sessionStorage.user}});case 41:return E=e.sent,e.next=44,E.json();case 44:return b=e.sent,e.next=47,fetch(p+"/notes/gt/"+a[2].id+"/"+R,{headers:{Authorization:sessionStorage.user}});case 47:return h=e.sent,e.next=50,h.json();case 50:v=e.sent,g=0,b.filter(function(e){return e.student_id===V}).forEach(function(e){var t=parseFloat(e.value);g+=t}),v.arr.forEach(function(e,t){e.student_id===V&&Oe(t+1)}),ge(g/2),M(!1);case 56:case"end":return e.stop()}},e)}))()},[]);var Ce=function(e){return Math.round(e/(10*E.length)*20/2*100)/100};return r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg",style:{padding:"10px 10px"}},r.a.createElement("a",{target:"_blank",href:"".concat(p,"/download/pdf/bul-an2/").concat(j.year,"/").concat(R,"/").concat(V,"/").concat(P),className:"btn btn-success"},"T\xe9l\xe9charger le bulletin")),r.a.createElement(Le,{currentClass:j,actualExam:y,student:c}),r.a.createElement("table",{className:"table table-bordered table-light table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{align:"center",rowSpan:2},"MATIERES"),G.map(function(e){return r.a.createElement("th",{colSpan:3},e.name)})),r.a.createElement("tr",null,G.map(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("th",null,"Devoir"),r.a.createElement("th",null,"Compo"),r.a.createElement("th",null,"Moyenne"))}))),r.a.createElement("tbody",null,E.map(function(e,t){var a=U.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===G[0].id&&"devoir"===t.subject_type}).length>0?U.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===G[0].id&&"devoir"===t.subject_type})[0].value:0,n=U.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===G[0].id&&"compo"===t.subject_type}).length>0?U.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===G[0].id&&"compo"===t.subject_type})[0].value:0,s=U.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===G[1].id&&"devoir"===t.subject_type}).length>0?U.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===G[1].id&&"devoir"===t.subject_type})[0].value:0,c=U.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===G[1].id&&"compo"===t.subject_type}).length>0?U.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===G[1].id&&"compo"===t.subject_type})[0].value:0,l=U.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===G[2].id&&"devoir"===t.subject_type}).length>0?U.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===G[2].id&&"devoir"===t.subject_type})[0].value:0,o=U.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===G[2].id&&"compo"===t.subject_type}).length>0?U.filter(function(t){return t.subject_id===e.id.toString()&&t.exam_id===G[2].id&&"compo"===t.subject_type})[0].value:0,i=parseInt(n)+parseInt(a),u=parseInt(c)+parseInt(s),m=parseInt(o)+parseInt(l);return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,i/2),r.a.createElement("td",null,s),r.a.createElement("td",null,c),r.a.createElement("td",null,u/2),r.a.createElement("td",null,l),r.a.createElement("td",null,o),r.a.createElement("td",null,m/2))}),r.a.createElement("tr",null,r.a.createElement("td",null,"Total des points:"),r.a.createElement("td",{colSpan:3},ae," / ",10*E.length),r.a.createElement("td",{colSpan:3},ue," / ",10*E.length),r.a.createElement("td",{colSpan:3},ve," / ",10*E.length)),r.a.createElement("tr",null,r.a.createElement("td",null,"Moyenne:"),r.a.createElement("td",{colSpan:3},Ce(ae)," / 10"),r.a.createElement("td",{colSpan:3},Ce(ue)," / 10"),r.a.createElement("td",{colSpan:3},Ce(ve)," / 10")),r.a.createElement("tr",null,r.a.createElement("td",null,"Rang:"),r.a.createElement("td",{colSpan:3},ce," / ",j.total_students),r.a.createElement("td",{colSpan:3},Ee," / ",j.total_students),r.a.createElement("td",{colSpan:3},Ne," / ",j.total_students)))),r.a.createElement("table",{className:"table table-bordered table-light table-striped"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,qe[g()].totalPoints),r.a.createElement("td",null,C," / ",10*E.length),r.a.createElement("td",null,"Encouragement :"),r.a.createElement("td",null,we>6?"oui":"non")),r.a.createElement("tr",null,r.a.createElement("td",null,qe[g()].average),r.a.createElement("td",null,we," / 10"),r.a.createElement("td",null,"Tableau d'honneur :"),r.a.createElement("td",null,we>7.5?"oui":"non")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},qe[g()].rank),r.a.createElement("td",{colSpan:2}," ",z," / ",j.total_students)),r.a.createElement("tr",null,r.a.createElement("td",null,"Des efforts s'imposent en:"),r.a.createElement("td",null,"Visa du parent"),r.a.createElement("td",{colSpan:2},"Visa du chef d'etablissement")),r.a.createElement("tr",{style:{height:"100px"}},r.a.createElement("td",null,K.length>0?K.map(function(e){return r.a.createElement("li",{key:e},e)}):r.a.createElement("li",null,"RAS")),r.a.createElement("td",null),r.a.createElement("td",{colSpan:2})))),F?"studentsPoints":"")},Ge=function(e){var t=e.type,a=Object(n.useState)([]),s=Object(l.a)(a,2),c=s[0],o=s[1],u=Object(n.useState)([]),f=Object(l.a)(u,2),E=f[0],b=f[1],h=Object(n.useState)({}),v=Object(l.a)(h,2),j=v[0],S=v[1],N=Object(n.useState)({}),O=Object(l.a)(N,2),y=O[0],x=O[1],w=Object(n.useState)(0),_=Object(l.a)(w,2),C=_[0],A=_[1],k=Object(n.useState)(1),T=Object(l.a)(k,2),z=T[0],I=T[1],q=Object(n.useState)(!1),L=Object(l.a)(q,2),F=L[0],M=L[1],D=Object(n.useState)(0),P=Object(l.a)(D,2),V=P[0],R=P[1],B=Object(i.g)(),J=B.exam_id,U=B.student_id,H=B.class_id,Y=Object(n.useState)({}),Z=Object(l.a)(Y,2),G=Z[0],W=Z[1],Q=Object(n.useState)({}),X=Object(l.a)(Q,2),K=X[0],$=X[1];return Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var a,n,r,s,c,l,i,u,d,f,E,h,v,g,j;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,fetch(p+"/students/one/"+U,{headers:{Authorization:sessionStorage.user}});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.next=9,fetch(p+"/trim/"+J,{headers:{Authorization:sessionStorage.user}});case 9:return r=e.sent,e.next=12,r.json();case 12:return s=e.sent,e.next=15,fetch(p+"/class/"+H,{headers:{Authorization:sessionStorage.user}});case 15:return c=e.sent,e.next=18,c.json();case 18:return l=e.sent,e.next=21,fetch(p+"/subjects/all2/"+t,{headers:{Authorization:sessionStorage.user}});case 21:return i=e.sent,e.next=24,i.json();case 24:return u=e.sent,console.log(u),e.next=28,fetch(p+"/notes/all/"+H+"/"+J,{headers:{Authorization:sessionStorage.user}});case 28:return d=e.sent,e.next=31,d.json();case 31:return f=e.sent,e.next=34,fetch(p+"/notes/gt/"+J+"/"+H,{headers:{Authorization:sessionStorage.user}});case 34:return E=e.sent,e.next=37,E.json();case 37:h=e.sent,f=f.filter(function(e){return e.student_id===U}),v=0,g=0,j=[],u.forEach(function(e){v+=10,(f.filter(function(t){return t.subject_id===e.id.toString()}).length>0?parseFloat(f.filter(function(t){return t.subject_id===e.id.toString()})[0].value):0)<e.over/2&&j.push(e.name)}),f.forEach(function(e){var t=parseFloat(e.value);g+=t}),h.arr.forEach(function(e,t){e.student_id===U&&I(t+1)}),R(Math.round(g/v*20/2*100)/100),$(j),A(g),o(n),x(s),S(l),b(u),W(f),M(!1);case 54:case"end":return e.stop()}},e)}))()},[]),r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg",style:{padding:"10px 10px"}},r.a.createElement("a",{target:"_blank",href:"".concat(p,"/download/pdf/bul/").concat(j.year,"/").concat(H,"/").concat(U,"/").concat(J),className:"btn btn-success"},"T\xe9l\xe9charger le bulletin")),r.a.createElement(Le,{currentClass:j,actualExam:y,student:c}),r.a.createElement("table",{className:"table table-bordered table-light table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{align:"center"},"MATIERES"),r.a.createElement("th",{align:"center"},"NOTES"))),r.a.createElement("tbody",null,E.map(function(e,t){var a=G.filter(function(t){return t.subject_id===e.id.toString()}).length>0?parseFloat(G.filter(function(t){return t.subject_id===e.id.toString()})[0].value):0;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",{align:"center"},a>e.over/2?r.a.createElement("img",{src:Me.a,width:"20px",alt:""}):""))}))),r.a.createElement("table",{className:"table table-bordered table-light table-striped"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,qe[g()].totalPoints),r.a.createElement("td",null,C," / ",10*E.length),r.a.createElement("td",null,"Encouragement :"),r.a.createElement("td",null,V>6?"oui":"non")),r.a.createElement("tr",null,r.a.createElement("td",null,qe[g()].average),r.a.createElement("td",null,V," / 10"),r.a.createElement("td",null,"Tableau d'honneur :"),r.a.createElement("td",null,V>7.5?"oui":"non")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},qe[g()].rank),r.a.createElement("td",{colSpan:2}," ",z," / ",j.total_students)),r.a.createElement("tr",null,r.a.createElement("td",null,"Des efforts s'imposent en:"),r.a.createElement("td",null,"Visa du parent"),r.a.createElement("td",{colSpan:2},"Visa du chef d'etablissement")),r.a.createElement("tr",{style:{height:"100px"}},r.a.createElement("td",null,K.length>0?K.map(function(e){return r.a.createElement("li",{key:e},e)}):r.a.createElement("li",null,"RAS")),r.a.createElement("td",null),r.a.createElement("td",{colSpan:2})))),F?"studentsPoints":"")};var We=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(!1),o=Object(l.a)(c,2),i=(o[0],o[1]),u=Object(n.useState)([]),f=Object(l.a)(u,2),E=f[0],b=f[1],h=Object(n.useState)(!1),v=Object(l.a)(h,2),g=v[0],j=v[1];return Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,fetch(p+"/users/getTeacherOrAdmin/",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,b(a),i(!1);case 9:case"end":return e.stop()}},e)}))()},[]),r.a.createElement("div",{className:"container proCon"},""!==a?r.a.createElement("div",{className:"alert alert-danger"},a):r.a.createElement(r.a.Fragment,null),g?r.a.createElement(fe,{setIsEditInfos:j,setError:s}):r.a.createElement(Ee,{userInfos:E,setIsEditInfos:j}),r.a.createElement(me,{setError:s}),"")},Qe=function(e){var t=e.type,a=Object(n.useState)([]),s=Object(l.a)(a,2),c=s[0],o=s[1],u=Object(n.useState)([]),f=Object(l.a)(u,2),E=f[0],b=f[1],h=Object(n.useState)({}),v=Object(l.a)(h,2),j=v[0],S=v[1],N=Object(n.useState)({}),O=Object(l.a)(N,2),y=O[0],x=O[1],w=Object(n.useState)(0),_=Object(l.a)(w,2),C=_[0],A=_[1],k=Object(n.useState)(1),T=Object(l.a)(k,2),z=T[0],I=T[1],q=Object(n.useState)(!1),L=Object(l.a)(q,2),F=L[0],M=L[1],D=Object(i.g)(),P=D.exam_id,V=D.student_id,R=D.class_id,B=Object(n.useState)({}),J=Object(l.a)(B,2),U=J[0],H=J[1],Y=Object(n.useState)(0),Z=Object(l.a)(Y,2),G=Z[0],W=Z[1],Q=Object(n.useState)({}),X=Object(l.a)(Q,2),K=X[0],$=X[1];return Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var a,n,r,s,c,l,i,u,d,f,E,h,v,g,j;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,fetch(p+"/students/one/"+V,{headers:{Authorization:sessionStorage.user}});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.next=9,fetch(p+"/trim/"+P,{headers:{Authorization:sessionStorage.user}});case 9:return r=e.sent,e.next=12,r.json();case 12:return s=e.sent,e.next=15,fetch(p+"/class/"+R,{headers:{Authorization:sessionStorage.user}});case 15:return c=e.sent,e.next=18,c.json();case 18:return l=e.sent,e.next=21,fetch(p+"/subjects/all2/"+t,{headers:{Authorization:sessionStorage.user}});case 21:return i=e.sent,e.next=24,i.json();case 24:return u=e.sent,console.log(u),e.next=28,fetch(p+"/notes/all2/"+R+"/"+P,{headers:{Authorization:sessionStorage.user}});case 28:return d=e.sent,e.next=31,d.json();case 31:return f=e.sent,e.next=34,fetch(p+"/notes/gt/"+P+"/"+R,{headers:{Authorization:sessionStorage.user}});case 34:return E=e.sent,e.next=37,E.json();case 37:h=e.sent,f=f.filter(function(e){return e.student_id===V}),v=0,g=0,j=[],u.forEach(function(e){v+=10;var t=(f.filter(function(t){return t.subject_id===e.id.toString()&&"devoir"===t.subject_type}).length>0?parseFloat(f.filter(function(t){return t.subject_id===e.id.toString()&&"devoir"===t.subject_type})[0].value):0)+(f.filter(function(t){return t.subject_id===e.id.toString()&&"compo"===t.subject_type}).length>0?parseFloat(f.filter(function(t){return t.subject_id===e.id.toString()&&"compo"===t.subject_type})[0].value):0);g+=t/2,t/2<5&&j.push(e.name)}),h.arr.forEach(function(e,t){e.student_id===V&&I(t+1)}),W(Math.round(g/v*20/2*100)/100),$(j),A(g),o(n),x(s),S(l),b(u),H(f),M(!1);case 53:case"end":return e.stop()}},e)}))()},[]),r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg",style:{padding:"10px 10px"}},r.a.createElement("a",{target:"_blank",href:"".concat(p,"/download/pdf/bul2/").concat(j.year,"/").concat(R,"/").concat(V,"/").concat(P),className:"btn btn-success"},"T\xe9l\xe9charger le bulletin")),r.a.createElement(Le,{currentClass:j,actualExam:y,student:c}),r.a.createElement("table",{className:"table table-bordered table-light table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{rowSpan:2,align:"center"},"MATIERES"),r.a.createElement("th",{colSpan:3},y.name)),r.a.createElement("tr",null,r.a.createElement("th",null,"Devoir"),r.a.createElement("th",null,"Compo"),r.a.createElement("th",null,"Moyenne"))),r.a.createElement("tbody",null,E.map(function(e,t){var a=U.filter(function(t){return t.subject_id===e.id.toString()&&"devoir"===t.subject_type}).length>0?parseFloat(U.filter(function(t){return t.subject_id===e.id.toString()&&"devoir"===t.subject_type})[0].value):0,n=U.filter(function(t){return t.subject_id===e.id.toString()&&"compo"===t.subject_type}).length>0?parseFloat(U.filter(function(t){return t.subject_id===e.id.toString()&&"compo"===t.subject_type})[0].value):0,s=a+n;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,a," / 10"),r.a.createElement("td",null,n," / 10"),r.a.createElement("td",null,s/2," / 10"))}))),r.a.createElement("table",{className:"table table-bordered table-light table-striped"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,qe[g()].totalPoints),r.a.createElement("td",null,C," / ",10*E.length),r.a.createElement("td",null,"Encouragement :"),r.a.createElement("td",null,G>6?"oui":"non")),r.a.createElement("tr",null,r.a.createElement("td",null,qe[g()].average),r.a.createElement("td",null,G," / 10"),r.a.createElement("td",null,"Tableau d'honneur :"),r.a.createElement("td",null,G>7.5?"oui":"non")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},qe[g()].rank),r.a.createElement("td",{colSpan:2}," ",z," / ",j.total_students)),r.a.createElement("tr",null,r.a.createElement("td",null,"Des efforts s'imposent en:"),r.a.createElement("td",null,"Visa du parent"),r.a.createElement("td",{colSpan:2},"Visa du chef d'etablissement")),r.a.createElement("tr",{style:{height:"100px"}},r.a.createElement("td",null,K.length>0?K.map(function(e){return r.a.createElement("li",{key:e},e)}):r.a.createElement("li",null,"RAS")),r.a.createElement("td",null),r.a.createElement("td",{colSpan:2})))),F?"studentsPoints":"")};var Xe=function(e){var t=e.setAmount,a=e.setTotalAmount,s=e.setIsAmount,c=Object(n.useState)(0),o=Object(l.a)(c,2),i=o[0],u=o[1],m=function(e){u(function(t){return t+e})},d=Object(n.useState)(!1),f=Object(l.a)(d,1)[0];return r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,"Veuillez entrer le montant vers\xe9 par le parent")),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",null,r.a.createElement("input",{className:"form-control",type:"number",value:i,onChange:function(e){u(parseInt(e.target.value))}}),r.a.createElement("div",null,r.a.createElement("button",{style:{marginLeft:"10px",marginTop:"10px"},onClick:function(){m(500)}},"Ajouter 500"),r.a.createElement("button",{style:{marginLeft:"10px",marginTop:"10px"},onClick:function(){m(1e3)}},"Ajouter 1000"),r.a.createElement("button",{style:{marginLeft:"10px",marginTop:"10px"},onClick:function(){m(2e3)}},"Ajouter 2000"),r.a.createElement("button",{style:{marginLeft:"10px",marginTop:"10px"},onClick:function(){m(5e3)}},"Ajouter 5000"),r.a.createElement("button",{style:{marginLeft:"10px",marginTop:"10px"},onClick:function(){m(1e4)}},"Ajouter 10000")))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn btn-blue",onClick:function(){t(i),s(!1),a(function(e){return e+(f?i-3e3:i)})}},"Ok"),r.a.createElement("button",{onClick:function(){s(function(e){return!e})},type:"reset"}," ",k[g()].close," ")))},Ke=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)({}),o=Object(l.a)(c,2),u=o[0],f=o[1],E=Object(i.f)(),b=Object(n.useState)(""),h=Object(l.a)(b,2),v=h[0],j=h[1],N=Object(n.useState)(0),y=Object(l.a)(N,2),w=y[0],_=y[1],C=Object(i.g)().id,A=Object(n.useState)(!1),k=Object(l.a)(A,2),T=k[0],z=k[1],I=Object(n.useState)(!1),q=Object(l.a)(I,2),L=q[0],F=q[1],M=Object(n.useState)({}),D=Object(l.a)(M,2),P=D[0],V=D[1],R=Object(n.useState)([]),B=Object(l.a)(R,2),J=B[0],U=B[1],H=Object(n.useState)(0),Y=Object(l.a)(H,2),G=Y[0],W=Y[1],Q="old"===a.status?u.inscriptions_olds_students:u.inscriptions_news_students,X="old"===a.status?u.first_tranch_olds_students:u.first_tranch_news_students,K="old"===a.status?u.second_tranch_olds_students:u.second_tranch_news_students,$="old"===a.status?u.third_tranch_olds_students:u.third_tranch_news_students;Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a,n,r,c,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,fetch(p+"/students/one/"+C,{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.next=9,fetch(p+"/class/"+a.class_id,{headers:{Authorization:sessionStorage.user}});case 9:return n=e.sent,e.next=12,n.json();case 12:return r=e.sent,e.next=15,fetch(p+"/students/payments/"+C,{headers:{Authorization:sessionStorage.user}});case 15:return c=e.sent,e.next=18,c.json();case 18:l=e.sent,s(a),V(a),f(r),U(l),F(!1);case 24:case"end":return e.stop()}},e)}))()},[C]),Object(n.useEffect)(function(){if(w>Q+X+K+$&&W(Q+X+K+$),w>0){var e=w,t=Q-a.inscription,n=X-a.first_tranch,r=K-a.second_tranch,c=$-a.third_tranch;if(t>0&&e>0){var l=e>=t?t:e;s(function(e){return Object(S.a)({},e,{inscription:parseInt(a.inscription)+l})}),e-=l}if(n>0&&e>0){var o=e>=n?n:e;s(function(e){return Object(S.a)({},e,{first_tranch:parseInt(a.first_tranch)+o})}),e-=o}if(r>0&&e>0){var i=e>=r?r:e;s(function(e){return Object(S.a)({},e,{second_tranch:parseInt(a.second_tranch)+i})}),e-=i}if(c>0&&e>0){var u=e>=c?c:e;s(function(e){return Object(S.a)({},e,{third_tranch:parseInt(a.third_tranch)+u})}),e-=u}}},[w]);var ee=function(e,t){var a=parseInt(t)-parseInt(e),n=a>0?G+=a:G;W(n),console.log(a,e,t,G)};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:""},r.a.createElement("div",{className:"card-head"},r.a.createElement("h4",{className:"mt-1 mb-0"},"Editer la pension de : ",a.name+" "+a.subname),r.a.createElement("nav",{className:"navbar navbar-expand-lg",style:{padding:"10px 10px",display:"flex",justifyContent:"space-between"}},r.a.createElement("button",{className:"btn btn-primary btn-disabled",onClick:function(e){z(function(e){return!e})}},"Entrer le montant vers\xe9 par le parent"))),r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),F(!0);var t=parseInt(P.inscription)+parseInt(P.first_tranch)+parseInt(P.second_tranch)+parseInt(P.third_tranch),n=parseInt(a.inscription)+parseInt(a.first_tranch)+parseInt(a.second_tranch)+parseInt(a.third_tranch),r=Q-P.inscription+(X-P.first_tranch)+(K-P.second_tranch)+($-P.third_tranch),s=n-t;n<t?x.fire({title:"Entrer le mot de passe de l'admin",input:"password",inputLabel:"Le montant total entre est inferieur a celui precedent",showCancelButton:!0}).then(function(e){var t=e.value;fetch(p+"/users/confirmAdminPassword",{method:"POST",body:JSON.stringify({password:t}),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){console.log(e),e.success?fetch(p+"/students/"+C,{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?(G>Q+X+K+$&&(W(Q+X+K+$),s=Q+X+K+$),G>r&&(s=r),window.open(p+"/download/recu2/"+C+"/"+s+"/"+sessionStorage.user),window.open(p+"/download/recu/"+C+"/"+s+"/"+sessionStorage.user),E(-1)):j(e.message)}):j(e.message)})}):fetch(p+"/students/"+C,{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?(G>Q+X+K+$&&(W(Q+X+K+$),s=Q+X+K+$),G>r&&(s=r),window.open(p+"/download/recu2/"+C+"/"+s+"/"+sessionStorage.user),window.open(p+"/download/recu/"+C+"/"+s+"/"+sessionStorage.user),E(-1)):j(e.message)}),F(!1)}(e)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",{className:" table-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Noms"),r.a.createElement("th",null,"Pay\xe9"),r.a.createElement("th",null,"Sur"))),r.a.createElement("tbody",{className:"table-light"},r.a.createElement("tr",null,r.a.createElement("td",null,"Inscriptions"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",min:0,max:Q,readOnly:a.inscription>=Q,style:{width:"150px"},value:a.inscription,onChange:function(e){ee(P.inscription,e.target.value),s(function(t){return Object(S.a)({},t,{inscription:e.target.value>Q?Q:e.target.value})})}})),r.a.createElement("td",null,Q)),r.a.createElement("tr",null,r.a.createElement("td",null,"1ere tranche"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",min:0,max:X,readOnly:a.first_tranch>=X,style:{width:"150px"},value:a.first_tranch,onChange:function(e){ee(P.first_tranch,e.target.value),s(function(t){return Object(S.a)({},t,{first_tranch:e.target.value>X?X:e.target.value})})}})),r.a.createElement("td",null,X)),r.a.createElement("tr",null,r.a.createElement("td",null,"2eme tranche"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",min:0,max:K,readOnly:a.second_tranch>=K,style:{width:"150px"},value:a.second_tranch,onChange:function(e){ee(P.second_tranch,e.target.value),s(function(t){return Object(S.a)({},t,{second_tranch:e.target.value>K?K:e.target.value})})}})),r.a.createElement("td",null,K)),r.a.createElement("tr",null,r.a.createElement("td",null,"3eme tranche"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",min:0,max:$,readOnly:a.third_tranch>=$,style:{width:"150px"},value:a.third_tranch,onChange:function(e){ee(P.third_tranch,e.target.value),s(function(t){return Object(S.a)({},t,{third_tranch:e.target.value>$?$:e.target.value})})}})),r.a.createElement("td",null,$)))),v?r.a.createElement("div",{className:"alert alert-danger"},v):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn btn-blue",type:"submit"},L?Z[g()].saving:Z[g()].save+" et imprimer le re\xe7u"),r.a.createElement("button",{onClick:function(){E(-1)},type:"reset",style:{marginLeft:"10px"}}," ",Z[g()].close," ")))),r.a.createElement("hr",null),r.a.createElement("div",{className:"payements px-5"},r.a.createElement("h2",{className:"title"},"Etat de paiement"),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-dark table-bordered table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{align:"center",style:{textAlign:"center"}},"Inscription ",r.a.createElement("br",null)),r.a.createElement("th",{align:"center",style:{textAlign:"center"}},"1ere tranche",r.a.createElement("br",null)),r.a.createElement("th",{align:"center",style:{textAlign:"center"}},"2eme tranche",r.a.createElement("br",null)),r.a.createElement("th",{align:"center",style:{textAlign:"center"}},"3eme tranche",r.a.createElement("br",null)),r.a.createElement("th",{align:"center",style:{textAlign:"center"}},"Total ",r.a.createElement("br",null)))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,a.inscription," / ",Q),r.a.createElement("td",null,a.first_tranch," / ",X),r.a.createElement("td",null,a.second_tranch," / ",K),r.a.createElement("td",null,a.third_tranch," / ",$),r.a.createElement("td",null,a.inscription+a.first_tranch+a.second_tranch+a.third_tranch," /",Q+X+K+$)))))),r.a.createElement("hr",null),r.a.createElement("div",{className:"payements px-5"},r.a.createElement("h2",{className:"title"},"Historique de payements"),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",{className:"table-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Montant"),r.a.createElement("th",null,"Operateur"),r.a.createElement("th",null,"Date"))),r.a.createElement("tbody",{className:"table-light"},J.length>0?J.map(function(e){var t=new Date(e.created_at).getDate()+"/"+(new Date(e.created_at).getMonth()+1)+"/"+new Date(e.created_at).getFullYear()+" \xe0 "+new Date(e.created_at).getHours()+":"+new Date(e.created_at).getMinutes();return r.a.createElement("tr",null,r.a.createElement("td",null,e.amount),r.a.createElement("td",null,e.email),r.a.createElement("td",null,t))}):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:3},"Aucun payement effectue pour cet eleve")))))),r.a.createElement(O.a,{isOpen:T},r.a.createElement(Xe,{setTotalAmount:W,amount:w,setAmount:_,setIsAmount:z})))};var $e=function(){return r.a.createElement("div",null,"StudentsComp")},et=function(){var e=Object(i.f)();"ad"!==sessionStorage.stat&&e("/students/"+sessionStorage.classId),null===sessionStorage.getItem("section_id")&&e("/");var t=Object(n.useState)({}),a=Object(l.a)(t,2),s=a[0],c=a[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),b=f[0],h=f[1],v=Object(n.useState)(""),j=Object(l.a)(v,2),S=j[0],N=j[1],y=Object(n.useState)(""),w=Object(l.a)(y,2),_=w[0],C=w[1],A=Object(n.useState)(!1),q=Object(l.a)(A,2),L=q[0],F=q[1],M=Object(n.useState)(!1),D=Object(l.a)(M,2),P=D[0],V=D[1],R=Object(n.useState)(!1),B=Object(l.a)(R,2),J=B[0],U=B[1],H=Object(i.g)().name;Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,fetch(p+"/class/getOAll/"+sessionStorage.getItem("section_id"),{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,c(a),h(!1);case 9:case"end":return e.stop()}},e)}))()},[]);return r.a.createElement("div",{style:{padding:"10px 10px"},className:"container"},r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("h1",null,r.a.createElement("b",null,"Section : ")," ",b?"":H," "),r.a.createElement("button",{onClick:function(){V(function(e){return!e})},className:"btn btn-blue"},"Ajouter une classe"),r.a.createElement("label",{htmlFor:"csvFile",style:{marginLeft:"10px"},className:"btn btn-success"},"Importer les classes"),r.a.createElement("input",{type:"file",accept:".csv",id:"csvFile",style:{display:"none"},onChange:function(e){I(e,"/upload/class/csv",N)}})),r.a.createElement("div",{className:"allClas"},b?r.a.createElement("div",{className:"error",style:{position:"absolute",top:"39%",left:"53%"}},r.a.createElement(E.a,{color:"#fff",type:"spin"})):s.length>0?s.map(function(e,t){return r.a.createElement("div",{className:"clas",key:t},r.a.createElement("div",{className:"top"},r.a.createElement("div",{className:"classAbs"},e.name.slice(0,8)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},k[g()].class,":"),r.a.createElement("span",{className:"r"},e.name)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},k[g()].section,":"),r.a.createElement("span",{className:"r"},e.sName)),r.a.createElement("div",{className:"qq"},r.a.createElement("span",{className:"q"},k[g()].level,":"),r.a.createElement("span",{className:"r"},e.level))),r.a.createElement("div",{className:"bottom"},r.a.createElement(o.b,{to:"/students/".concat(e.id),className:"btn btn-primary"}," ",k[g()].visite," "),r.a.createElement("button",{onClick:function(){C(e.id),U(function(e){return!e})},className:"btn btn-warning"}," ",k[g()].edit," "),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){var t;t=e.id,x.fire({title:"Confirmez la suppression !",icon:"question",text:"Cette action est irreversible !!"}).then(function(e){e.value&&(F(!0),fetch(p+"/class/"+t,{method:"DELETE",headers:{Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){console.log(e),e.success?window.location.reload():(console.log(e.message),N(e.message))}),F(!1))})}}," ",L?k[g()].deleting:k[g()].delete," ")))}):r.a.createElement("div",{className:"i"},r.a.createElement("div",{className:"empty monINfos"},k[g()].nohaveclass," ",r.a.createElement("br",null),k[g()].doyou," ",r.a.createElement("button",{onClick:function(){V(function(e){return!e})},className:"btn btn-blue"}," ",k[g()].add," ")))),r.a.createElement(O.a,{isOpen:P},r.a.createElement(T,{error:S,setError:N,setIsAddClass:V})),r.a.createElement(O.a,{isOpen:J},r.a.createElement(z,{error:S,setError:N,setIsEditClass:U,classToEditId:_}),"        "))};var tt=function(e){var t=e.error,a=e.setIsExport,s=e.studentIds,c=e.setError,o=Object(n.useState)(!0),i=Object(l.a)(o,2),u=i[0],f=i[1],E=Object(n.useState)([]),b=Object(l.a)(E,2),h=b[0],v=b[1],j=Object(n.useState)([]),S=Object(l.a)(j,2),N=S[0],O=S[1];return Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,fetch(p+"/class/getAll",{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,v(a),O(a),f(!1);case 10:case"end":return e.stop()}},e)}))()},[]),r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,"Choisissez la classe destinataire")),r.a.createElement("div",{className:"card-content"},r.a.createElement("input",{type:"search",className:"form-control",placeholder:"search",onChange:function(e){var t;t=e.target.value,v(N.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))},style:{marginBottom:"10px"}}),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",{className:"table-dark"},r.a.createElement("tr",null,r.a.createElement("td",null,"Nom de la classe"),r.a.createElement("td",null,"Action"))),r.a.createElement("tbody",{className:"table-ligth table-striped"},h.length>0?h.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(t){var a;a=e.id,fetch(p+"/students/transfert-to",{method:"PUT",body:JSON.stringify({ids:s,class_id:a}),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():c(e.message)})},className:"btn btn-info"},"Choisir")))}):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},"Aucune classe")))),""!==t?r.a.createElement("div",{className:"error"},t):""),r.a.createElement("div",{className:"card-footer"},r.a.createElement("p",null,u?"En cours d'exportation":""),r.a.createElement("button",{onClick:function(){c(""),a(!1)},type:"reset"}," ",Z[g()].close)))},at=function(){var e=Object(i.g)(),t=Object(i.f)(),a=e.id,s=Object(n.useState)({}),c=Object(l.a)(s,2),o=c[0],u=c[1],f=Object(n.useState)({}),b=Object(l.a)(f,2),h=b[0],v=b[1],j=Object(n.useState)(!1),S=Object(l.a)(j,2),N=S[0],y=S[1],x=Object(n.useState)(""),w=Object(l.a)(x,2),_=w[0],C=w[1],A=Object(n.useState)([]),k=Object(l.a)(A,2),T=k[0],z=k[1],I=Object(n.useState)(!1),q=Object(l.a)(I,2),L=q[0],F=q[1],M=["Incorrect","Janvier","Fevrier","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Decembre"];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,fetch(p+"/class/"+a,{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,u(n),y(!1);case 9:case"end":return e.stop()}},e)}))()},[a]),Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,fetch(p+"/students/"+a,{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,v(n),y(!1);case 9:case"end":return e.stop()}},e)}))()},[a]);return r.a.createElement("div",{className:"container"},r.a.createElement("div",{style:{margin:"10px 0"}},r.a.createElement("button",{onClick:function(){F(function(e){return!e})},className:"btn btn-blue"},"Valider"),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){t(-1)},style:{marginLeft:"10px"}},"Annuler")),r.a.createElement("table",{className:"table table-dark table-bordered table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"S\xe9lectionner"),r.a.createElement("td",null,Z[g()].n," "),r.a.createElement("th",null,Z[g()].name),r.a.createElement("th",null,Z[g()].subname),r.a.createElement("th",null,Z[g()].s),r.a.createElement("th",null,Z[g()].b),r.a.createElement("th",null,Z[g()].class))),r.a.createElement("tbody",null,N?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:5,style:{justifyItems:"center",paddingLeft:"50%"}},r.a.createElement(E.a,{color:"#fff",type:"cylon"}))):h.length>0?h.map(function(e,t){var a;return a=e.birthday?new Date(e.birthday).getDate()+" "+M[new Date(e.birthday).getMonth()]+" "+new Date(e.birthday).getUTCFullYear():"Aucune date de naissance",r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement("input",{type:"checkbox",checked:T.includes(e.id),onChange:function(t){var a;a=e.id,T.includes(a)?z(T.filter(function(e){return e!==a})):z([].concat(Object(V.a)(T),[a]))}})),r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.subname),r.a.createElement("td",null,"m"===e.sex?Z[g()].m:Z[g()].f),r.a.createElement("td",null,a),r.a.createElement("td",null,o.name))}):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:7,style:{textAlign:"center"}}," ".concat(Z[g()].noStudent," ").concat(o.name," ").concat(Z[g()].now," "))))),r.a.createElement(O.a,{isOpen:L},r.a.createElement(tt,{error:_,setError:C,setIsExport:F,studentIds:T})))};var nt=function(){var e=Object(i.g)().id,t=Object(n.useState)({}),a=Object(l.a)(t,2),s=a[0],c=a[1],u=Object(n.useState)({}),f=Object(l.a)(u,2),b=f[0],h=f[1],v=Object(n.useState)(!1),j=Object(l.a)(v,2),S=j[0],N=j[1],y=Object(n.useState)(""),w=Object(l.a)(y,2),_=w[0],C=w[1],A=Object(n.useState)(!1),k=Object(l.a)(A,2),T=k[0],z=k[1],I=Object(n.useState)(!1),q=Object(l.a)(I,2),L=q[0],F=q[1],M=Object(n.useState)(!1),D=Object(l.a)(M,2),P=D[0],V=D[1],R=Object(n.useState)(""),B=Object(l.a)(R,2),J=B[0],U=B[1];return Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function t(){var a,n,r,s;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return N(!0),t.next=3,fetch(p+"/class/"+e,{headers:{Authorization:sessionStorage.user}});case 3:return a=t.sent,t.next=6,a.json();case 6:return n=t.sent,t.next=9,fetch(p+"/students/"+e,{headers:{Authorization:sessionStorage.user}});case 9:return r=t.sent,t.next=12,r.json();case 12:s=t.sent,c(n),h(s),N(!1);case 16:case"end":return t.stop()}},t)}))()},[e]),r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg",style:{padding:"10px 10px",display:"flex",justifyContent:"space-between"}},r.a.createElement("h2",{style:{marginLeft:"40px"}},Z[g()].studentList," ",s.name),r.a.createElement("button",{onClick:function(){F(function(e){return!e})},className:"btn btn-blue"},Z[g()].addStudent),r.a.createElement(o.b,{to:"/transfert/".concat(e),className:"btn btn-primary",style:{marginBottom:"10px",marginLeft:"10px"}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-airplane-engines-fill",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M8 0c-.787 0-1.292.592-1.572 1.151A4.347 4.347 0 0 0 6 3v3.691l-2 1V7.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.191l-1.17.585A1.5 1.5 0 0 0 0 10.618V12a.5.5 0 0 0 .582.493l1.631-.272.313.937a.5.5 0 0 0 .948 0l.405-1.214 2.21-.369.375 2.253-1.318 1.318A.5.5 0 0 0 5.5 16h5a.5.5 0 0 0 .354-.854l-1.318-1.318.375-2.253 2.21.369.405 1.214a.5.5 0 0 0 .948 0l.313-.937 1.63.272A.5.5 0 0 0 16 12v-1.382a1.5 1.5 0 0 0-.83-1.342L14 8.691V7.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v.191l-2-1V3c0-.568-.14-1.271-.428-1.849C9.292.591 8.787 0 8 0Z"})),"Transfert")),r.a.createElement("nav",{className:" ",style:{padding:"10px 10px"}},r.a.createElement("div",{className:"colla",id:"navbarNav",style:{padding:"10px 10px",display:"flex",justifyContent:"space-between"}},r.a.createElement("a",{target:"_blank",rel:"noreferrer",style:{marginLeft:"30px"},href:p+"/download/pdf/students/"+e,className:"btn btn-secondary"},Z[g()].downloadPdf))),_?r.a.createElement("div",{className:"alert alert-danger"}," ",_," "):"",r.a.createElement("table",{className:"table table-dark table-bordered table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,Z[g()].n," "),r.a.createElement("th",null,Z[g()].name,"s et Prenoms"),r.a.createElement("th",{align:"center",style:{textAlign:"center"}},"Inscription ",r.a.createElement("br",null),r.a.createElement("a",{target:"_blank",rel:"noreferrer",href:p+"/download/pdf/insolvables/"+e+"/1/"+sessionStorage.user,className:"btn btn-secondary"},"Insolvables")),r.a.createElement("th",{align:"center",style:{textAlign:"center"}},"1ere tranche",r.a.createElement("br",null),r.a.createElement("a",{target:"_blank",rel:"noreferrer",href:p+"/download/pdf/insolvables/"+e+"/2/"+sessionStorage.user,className:"btn btn-secondary"},"Insolvables")),r.a.createElement("th",{align:"center",style:{textAlign:"center"}},"2eme tranche",r.a.createElement("br",null),r.a.createElement("a",{target:"_blank",rel:"noreferrer",href:p+"/download/pdf/insolvables/"+e+"/3/"+sessionStorage.user,className:"btn btn-secondary"},"Insolvables")),r.a.createElement("th",{align:"center",style:{textAlign:"center"}},"3eme tranche",r.a.createElement("br",null),r.a.createElement("a",{target:"_blank",rel:"noreferrer",href:p+"/download/pdf/insolvables/"+e+"/4/"+sessionStorage.user,className:"btn btn-secondary"},"Insolvables")),r.a.createElement("th",{align:"center",style:{textAlign:"center"}},"Total ",r.a.createElement("br",null),r.a.createElement("a",{target:"_blank",rel:"noreferrer",href:p+"/download/pdf/insolvables/"+e+"/6/"+sessionStorage.user,className:"btn btn-secondary"},"Insolvables")," ",r.a.createElement("br",null),r.a.createElement("a",{target:"_blank",rel:"noreferrer",href:p+"/download/pdf/insolvables/"+e+"/7/"+sessionStorage.user,style:{marginTop:"10px"},className:"btn btn-secondary"},"Etat")),r.a.createElement("th",null,Z[g()].action))),r.a.createElement("tbody",null,S?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:5,style:{justifyItems:"center",paddingLeft:"50%"}},r.a.createElement(E.a,{color:"#fff",type:"cylon"}))):b.length>0?b.map(function(e,t){var a="old"===e.status?s.inscriptions_olds_students:s.inscriptions_news_students,n="old"===e.status?s.first_tranch_olds_students:s.first_tranch_news_students,c="old"===e.status?s.second_tranch_olds_students:s.second_tranch_news_students,l="old"===e.status?s.third_tranch_olds_students:s.third_tranch_news_students;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name," ",e.subname),r.a.createElement("td",null,e.inscription," / ",a),r.a.createElement("td",null,e.first_tranch," / ",n),r.a.createElement("td",null,e.second_tranch," / ",c),r.a.createElement("td",null,e.third_tranch," / ",l),r.a.createElement("td",null,e.inscription+e.first_tranch+e.second_tranch+e.third_tranch," /",a+n+c+l),r.a.createElement("td",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"}},r.a.createElement(o.b,{to:"/reduct-fees/"+e.id,style:{marginBottom:"10px"},className:"btn btn-secondary"},"Payer"),r.a.createElement("button",{style:{marginBottom:"10px"},onClick:function(){U(e.id),V(function(e){return!e})},to:"/students/edit/".concat(e.id),className:"btn btn-warning"}," Editer"),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){var t;t=e.id,x.fire({title:"Entrer le mot de passe de l'admin",input:"password",inputLabel:"Mot de passe de l'admin",showCancelButton:!0}).then(function(e){var a=e.value;fetch(p+"/users/confirmAdminPassword",{method:"POST",body:JSON.stringify({password:a}),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){console.log(e,a),e.success?x.fire({title:"Confirmez la suppression !",icon:"question",text:"Cette action est irreversible !!"}).then(function(e){e.value&&(z(!0),fetch(p+"/students/"+t,{method:"DELETE",headers:{Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():C(e.message)}).catch(function(e){return C(e)}),z(!1))}):C(e.message)})})}}," ",T?Z[g()].deleting:Z[g()].delete," ")))}):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:10,style:{textAlign:"center"}}," ".concat(Z[g()].noStudent))))),r.a.createElement(O.a,{isOpen:L},r.a.createElement(Se,{error:_,setError:C,setIsAddStudent:F})),r.a.createElement(O.a,{isOpen:P},r.a.createElement(G,{error:_,setError:C,setIsEditStudent:V,studentToEditId:J})))};var rt=function(e){var t=e.setShowInfos;return r.a.createElement("div",{className:"card login-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("h1",null,"Infos sur l'exportation des eleves.")),r.a.createElement("div",{className:"card-content"},r.a.createElement("h5",null,"Sur cette page vous allez exporter/promouvoir un eleve dans une autre classe."),r.a.createElement("p",null,"C'est une operation assez simple suffir juste de cliquer sur le bouton d'envoi et c'est tout."),r.a.createElement("p",null,"C'est une action irreversible. Une fois le bouton cliqu\xe9 l'\xe9l\xe8ve se retrouvera dans cette classe l'ann\xe9e prochaine. ",r.a.createElement("br",null),"Tous les \xe9l\xe8ves pour qui ont aura cliquer sur redoublant seront dans la meme classe l'anne prochaine lorsque vous changerez les notes. ",r.a.createElement("br",null)),r.a.createElement("p",null,"Les moyennes annuelles sont l\xe0 pour vous aider \xe0 d\xe9lib\xe9rer."),r.a.createElement("p",{className:"text-danger"},"Svp veuillez cliquer une fois sur le bouton parceque lors du clic l'enfant est envoye dans la classe pour l'annee prochaine ou redouble la classe l'annee prochaine mais il reste toujours dans la classe. Donc on ne saura pas quil a ete envoye mais il sera envoye. ",r.a.createElement("br",null),"Donc autant de fois que vous cliquerez pour un eleve autant de fois il sera envoye dans la classe.")),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{onClick:function(){t(function(e){return!e})},type:"reset"},"Compris")))},st=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)([]),o=Object(l.a)(c,2),u=o[0],f=o[1],b=Object(n.useState)([]),h=Object(l.a)(b,2),v=h[0],j=h[1],S=Object(n.useState)({}),N=Object(l.a)(S,2),y=N[0],x=N[1],w=Object(n.useState)(!1),_=Object(l.a)(w,2),C=_[0],A=_[1],k=Object(i.g)(),T=k.exam_id,z=k.class_id,I=k.type,q=Object(n.useState)({}),L=Object(l.a)(q,2),F=L[0],M=L[1],D=Object(n.useState)(!0),P=Object(l.a)(D,2),V=P[0],R=P[1],B=Object(n.useState)([]),J=Object(l.a)(B,2),U=J[0],H=J[1];Object(n.useEffect)(function(){Object(d.a)(m.a.mark(function e(){var t,a,n,r,c,l,o,i,u,d,E;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,fetch(p+"/students/"+z,{headers:{Authorization:sessionStorage.user}});case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.next=9,fetch(p+"/class/"+z,{headers:{Authorization:sessionStorage.user}});case 9:return n=e.sent,e.next=12,n.json();case 12:return r=e.sent,e.next=15,fetch(p+"/subjects/all2/"+I,{headers:{Authorization:sessionStorage.user}});case 15:return c=e.sent,e.next=18,c.json();case 18:return l=e.sent,e.next=21,fetch(p+"/notes/all".concat(1===parseInt(I)?"":"2","/").concat(z,"/").concat(T),{headers:{Authorization:sessionStorage.user}});case 21:return o=e.sent,e.next=24,o.json();case 24:return i=e.sent,e.next=27,fetch(p+"/class/by-level/"+(r.level+1),{headers:{Authorization:sessionStorage.user}});case 27:return u=e.sent,e.next=30,u.json();case 30:d=e.sent,E=[],d.forEach(function(e){E[e.id]=[]}),E[z]=[],H(E),j(d),s(a),x(r),f(l),M(i),A(!1);case 41:case"end":return e.stop()}},e)}))()},[]);var Y=function(e,t){var a=U;a[t].includes(e)?a[t]=a[t].filter(function(t){return t!==e}):a[t].push(e),H(a)},G=function(e,t){fetch(p+"/students/promote",{method:"POST",body:JSON.stringify({student:t,class_id:e}),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(function(e){return e.json()}).then(function(e){e.success&&window.location.reload()}).catch(function(e){return console.log(e)})};return r.a.createElement("div",{className:"container"},r.a.createElement("h4",{style:{display:"flex"}},"Bienvenue dans la promotion des eleves de ",y.name,r.a.createElement("div",{className:"help",onClick:function(){R(function(e){return!e})},style:{background:"#0c56ac",color:"#fff",marginLeft:"10px",height:"30px",width:"30px",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"}}," i ")),r.a.createElement("table",{className:"table table-dark table-bordered table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,Z[g()].n," "),r.a.createElement("th",null,Z[g()].name),r.a.createElement("th",null,Z[g()].subname),r.a.createElement("th",null,Z[g()].sex),r.a.createElement("th",null,"Moyenne annuelle"),v.map(function(e){return r.a.createElement("th",{key:e.id},e.name)}),r.a.createElement("th",null,"Redoublant"))),r.a.createElement("tbody",null,C?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:5,style:{justifyItems:"center",paddingLeft:"50%"}},r.a.createElement(E.a,{color:"#fff",type:"cylon"}))):a.length>0?a.map(function(e,t){var a=0;F.filter(function(t){return parseInt(t.student_id)===parseInt(e.id)}).forEach(function(e){a+=parseInt(e.value)});var n=1===parseInt(I)?10*u.length:20*u.length,s=Math.round(a/n*20*100)/100;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.subname),r.a.createElement("td",null,"m"===e.sex?Z[g()].m:Z[g()].f),r.a.createElement("td",null,"\n                                                    ".concat(s," / 20\n                                                ")),v.map(function(t){return r.a.createElement("td",{key:t.id},r.a.createElement("button",{className:"btn btn-primary"},r.a.createElement("svg",{onClick:function(){Y(e.id,t.id),G(t.id,e.id)},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-send-check-fill",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 1.59 2.498C8 14 8 13 8 12.5a4.5 4.5 0 0 1 5.026-4.47L15.964.686Zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471-.47 1.178Z"}),r.a.createElement("path",{d:"M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Zm-1.993-1.679a.5.5 0 0 0-.686.172l-1.17 1.95-.547-.547a.5.5 0 0 0-.708.708l.774.773a.75.75 0 0 0 1.174-.144l1.335-2.226a.5.5 0 0 0-.172-.686Z"}))))}),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-primary"},r.a.createElement("svg",{onClick:function(){Y(e.id,z),G(z,e.id)},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-send-check-fill",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 1.59 2.498C8 14 8 13 8 12.5a4.5 4.5 0 0 1 5.026-4.47L15.964.686Zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471-.47 1.178Z"}),r.a.createElement("path",{d:"M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Zm-1.993-1.679a.5.5 0 0 0-.686.172l-1.17 1.95-.547-.547a.5.5 0 0 0-.708.708l.774.773a.75.75 0 0 0 1.174-.144l1.335-2.226a.5.5 0 0 0-.172-.686Z"})))))}):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:7,style:{textAlign:"center"}}," ".concat(Z[g()].noStudent," ").concat(y.name))))),r.a.createElement(O.a,{isOpen:V},r.a.createElement(rt,{setShowInfos:R})))};var ct=function(){var e=null;sessionStorage.user&&(e=!0);var t=Object(n.useState)(e),a=Object(l.a)(t,2),s=a[0],c=a[1];return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(oe,null),r.a.createElement(i.c,null,s?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{path:"/",element:r.a.createElement(_,null)}),r.a.createElement(i.a,{path:"/students-comp",element:r.a.createElement($e,null)}),r.a.createElement(i.a,{path:"/class-comp",element:r.a.createElement(Ye,null)}),r.a.createElement(i.a,{path:"/class-comp/:id",element:r.a.createElement(nt,null)}),r.a.createElement(i.a,{path:"/reduct-fees/:id",element:r.a.createElement(Ke,null)}),r.a.createElement(i.a,{path:"/params-comp",element:r.a.createElement(We,null)}),r.a.createElement(i.a,{path:"/class",element:r.a.createElement(q,null)}),r.a.createElement(i.a,{path:"/classBySection/:name",element:r.a.createElement(et,null)}),r.a.createElement(i.a,{path:"/students/:id",element:r.a.createElement(xe,null)}),r.a.createElement(i.a,{path:"/transfert/:id",element:r.a.createElement(at,null)}),r.a.createElement(i.a,{path:"/teachers",element:r.a.createElement(Je,null)}),r.a.createElement(i.a,{path:"/matieres",element:r.a.createElement(Ae,null)}),r.a.createElement(i.a,{path:"/search",element:r.a.createElement(X,null)}),r.a.createElement(i.a,{path:"/params",element:r.a.createElement(be,null)}),r.a.createElement(i.a,{path:"/annual-exams",element:r.a.createElement(ve,null)}),r.a.createElement(i.a,{path:"/settings",element:r.a.createElement(P,null)}),r.a.createElement(i.a,{path:"/trims",element:r.a.createElement(Pe,null)}),r.a.createElement(i.a,{path:"/stats",element:r.a.createElement(Ie,null)}),r.a.createElement(i.a,{path:"promotion/:exam_id/:class_id/:type",element:r.a.createElement(st,null)}),r.a.createElement(i.a,{path:"/trims1/:exam_id/:class_id",element:r.a.createElement(Te,{type:1})}),r.a.createElement(i.a,{path:"/annuals2/:exam_id/:class_id",element:r.a.createElement(ke,{type:2})}),r.a.createElement(i.a,{path:"/annuals1/:exam_id/:class_id",element:r.a.createElement(he,{type:1})}),r.a.createElement(i.a,{path:"/trims1/:exam_id/:class_id/:student_id",element:r.a.createElement(Ge,{type:1})}),r.a.createElement(i.a,{path:"/annuals2/:exam_id/:class_id/:student_id",element:r.a.createElement(Ze,{type:2})}),r.a.createElement(i.a,{path:"/trims2/:exam_id/:class_id/:student_id",element:r.a.createElement(Qe,{type:2})}),r.a.createElement(i.a,{path:"/annuals1/:exam_id/:class_id/:student_id",element:r.a.createElement(De,{type:1})}),r.a.createElement(i.a,{path:"/trims2/:exam_id/:class_id",element:r.a.createElement(Ue,{type:2})}),r.a.createElement(i.a,{path:"*",element:r.a.createElement(F,null)})):r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{path:"/login",element:r.a.createElement(A,{setUser:c})}),r.a.createElement(i.a,{path:"*",element:r.a.createElement(A,{setUser:c})})))))};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ct,null)))}},[[27,2,1]]]);
//# sourceMappingURL=main.71f46d06.chunk.js.map